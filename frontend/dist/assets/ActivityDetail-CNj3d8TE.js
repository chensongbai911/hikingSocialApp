import{r as C,k as K,l as Y,v as c,q as d,z as t,x as k,A as l,G as M,O as N,P as G,y as D,E as et,J as st,d as P,N as J,s as at,K as W,S as ot}from"./vue-Eb8ZdQV1.js";import{u as it}from"./activity-BYFEx7WV.js";import{d as nt,s as lt}from"./state-WzMdx_T8.js";import{a as E,t as $,_ as Z,u as rt}from"./index-BQQdwWu-.js";const ct=async v=>E.post("/applications",v),dt=async v=>E.get("/applications/my",{params:v}),ut=async(v,g)=>E.put(`/applications/${v}/review`,g),vt=async v=>E.get(`/activities/${v}/applications/pending`),pt=async v=>E.get(`/activities/${v}/participants`),Q=nt("application",()=>{const v=C([]),g=C([]),h=C([]),m=C(0),f=C(!1),u=C(null);return{myApplications:v,pendingApplications:g,approvedParticipants:h,participantCount:m,loading:f,error:u,applyToActivity:async(p,o)=>{f.value=!0,u.value=null;try{const i=await ct({activity_id:p,message:o});if(i.code===200)return v.value.unshift(i.data),i.data;throw u.value=i.message,new Error(i.message)}catch(i){throw u.value=i.message||"ç”³è¯·å¤±è´¥",i}finally{f.value=!1}},fetchMyApplications:async p=>{f.value=!0,u.value=null;try{const o=await dt(p?{status:p}:void 0);o.code===200?v.value=o.data:u.value=o.message}catch(o){u.value=o.message||"è·å–ç”³è¯·åˆ—è¡¨å¤±è´¥"}finally{f.value=!1}},reviewApplication:async(p,o)=>{f.value=!0,u.value=null;try{const i=await ut(p,{action:o});if(i.code===200){const n=g.value.findIndex(_=>_.application_id===p);return n!==-1&&g.value.splice(n,1),i.data}else throw u.value=i.message,new Error(i.message)}catch(i){throw u.value=i.message||"å®¡æ ¸å¤±è´¥",i}finally{f.value=!1}},fetchPendingApplications:async p=>{f.value=!0,u.value=null;try{const o=await vt(p);o.code===200?g.value=o.data:u.value=o.message}catch(o){u.value=o.message||"è·å–å¾…å®¡æ ¸ç”³è¯·å¤±è´¥"}finally{f.value=!1}},fetchApprovedParticipants:async p=>{f.value=!0,u.value=null;try{const o=await pt(p);o.code===200?(h.value=o.data.participants,m.value=o.data.count):u.value=o.message}catch(o){u.value=o.message||"è·å–å‚ä¸è€…åˆ—è¡¨å¤±è´¥"}finally{f.value=!1}},clearApplications:()=>{v.value=[],g.value=[],h.value=[],m.value=0,u.value=null}}}),gt={class:"application-list"},ft={class:"header"},mt={class:"count"},xt={key:0,class:"loading"},ht={key:1,class:"applications"},yt={class:"user-info"},bt=["src","alt"],wt={class:"info"},_t={class:"nickname"},kt={class:"meta"},$t={class:"gender"},Ct={key:0,class:"age"},At={key:0,class:"message"},Mt={class:"message-content"},jt={key:1,class:"bio"},zt={class:"bio-content"},St={class:"time"},Pt={class:"actions"},Bt=["disabled","onClick"],Dt={key:0},Tt={key:1},Et=["disabled","onClick"],Lt={key:0},It={key:1},Ft={key:2,class:"empty"},Vt={key:3,class:"participants-section"},Ot={class:"section-title"},Ht={class:"participants-list"},Jt=["src","alt"],Nt={class:"participant-name"},Gt=K({__name:"ApplicationList",props:{activityId:{},showParticipants:{type:Boolean}},setup(v){const g=v,h=Q(),{pendingApplications:m,approvedParticipants:f,participantCount:u,loading:y}=lt(h),x=C(null);Y(async()=>{await h.fetchPendingApplications(g.activityId),g.showParticipants&&await h.fetchApprovedParticipants(g.activityId)});const s=async o=>{try{x.value=o,await h.reviewApplication(o,"approve"),$.success("å·²é€šè¿‡ç”³è¯·"),g.showParticipants&&await h.fetchApprovedParticipants(g.activityId)}catch(i){$.error(i.message||"å®¡æ ¸å¤±è´¥")}finally{x.value=null}},T=async o=>{if(confirm("ç¡®å®šè¦æ‹’ç»æ­¤ç”³è¯·å—?"))try{x.value=o,await h.reviewApplication(o,"reject"),$.info("å·²æ‹’ç»ç”³è¯·")}catch(i){$.error(i.message||"å®¡æ ¸å¤±è´¥")}finally{x.value=null}},L=o=>{const i=new Date(o),_=new Date().getTime()-i.getTime(),j=Math.floor(_/6e4),z=Math.floor(_/36e5),S=Math.floor(_/864e5);return j<60?`${j}åˆ†é’Ÿå‰`:z<24?`${z}å°æ—¶å‰`:S<7?`${S}å¤©å‰`:i.toLocaleDateString("zh-CN")},A=o=>({beginner:"å…¥é—¨",intermediate:"è¿›é˜¶",advanced:"é«˜çº§",expert:"ä¸“å®¶"})[o||"beginner"]||"å…¥é—¨",p=o=>({male:"ç”·",female:"å¥³",other:"å…¶ä»–"})[o||""]||"";return(o,i)=>(d(),c("div",gt,[t("div",ft,[i[0]||(i[0]=t("h2",{class:"title"},"æŠ¥åç”³è¯·ç®¡ç†",-1)),t("span",mt,"å¾…å®¡æ ¸ "+l(M(m).length)+" äºº",1)]),M(y)?(d(),c("div",xt,[...i[1]||(i[1]=[t("div",{class:"spinner"},null,-1),t("span",null,"åŠ è½½ä¸­...",-1)])])):M(m).length>0?(d(),c("div",ht,[(d(!0),c(N,null,G(M(m),n=>{var _,j,z,S,I,F,V,O;return d(),c("div",{key:n.application_id,class:"application-card"},[t("div",yt,[t("img",{src:((_=n.applicant)==null?void 0:_.avatar_url)||"/default-avatar.png",alt:(j=n.applicant)==null?void 0:j.nickname,class:"avatar"},null,8,bt),t("div",wt,[t("h3",_t,l((z=n.applicant)==null?void 0:z.nickname),1),t("div",kt,[t("span",{class:D(["level",`level-${(S=n.applicant)==null?void 0:S.hiking_level}`])},l(A((I=n.applicant)==null?void 0:I.hiking_level)),3),t("span",$t,l(p((F=n.applicant)==null?void 0:F.gender)),1),(V=n.applicant)!=null&&V.age?(d(),c("span",Ct,l(n.applicant.age)+"å²",1)):k("",!0)])])]),n.message?(d(),c("div",At,[i[2]||(i[2]=t("p",{class:"message-label"},"ç”³è¯·ç•™è¨€:",-1)),t("p",Mt,l(n.message),1)])):k("",!0),(O=n.applicant)!=null&&O.bio?(d(),c("div",jt,[t("p",zt,l(n.applicant.bio),1)])):k("",!0),t("div",St," ç”³è¯·æ—¶é—´: "+l(L(n.created_at)),1),t("div",Pt,[t("button",{class:"btn btn-approve",disabled:x.value===n.application_id,onClick:R=>s(n.application_id)},[x.value===n.application_id?(d(),c("span",Dt,"å¤„ç†ä¸­...")):(d(),c("span",Tt,"âœ“ é€šè¿‡"))],8,Bt),t("button",{class:"btn btn-reject",disabled:x.value===n.application_id,onClick:R=>T(n.application_id)},[x.value===n.application_id?(d(),c("span",Lt,"å¤„ç†ä¸­...")):(d(),c("span",It,"âœ— æ‹’ç»"))],8,Et)])])}),128))])):(d(),c("div",Ft,[...i[3]||(i[3]=[t("div",{class:"empty-icon"},"ğŸ“‹",-1),t("p",null,"æš‚æ— å¾…å®¡æ ¸ç”³è¯·",-1)])])),v.showParticipants&&M(f).length>0?(d(),c("div",Vt,[t("h3",Ot,"å·²é€šè¿‡æˆå‘˜ ("+l(M(u))+")",1),t("div",Ht,[(d(!0),c(N,null,G(M(f),n=>(d(),c("div",{key:n.id,class:"participant-item"},[t("img",{src:n.avatar_url||"/default-avatar.png",alt:n.nickname,class:"small-avatar"},null,8,Jt),t("span",Nt,l(n.nickname),1),t("span",{class:D(["participant-level",`level-${n.hiking_level}`])},l(A(n.hiking_level)),3)]))),128))])])):k("",!0)]))}}),Rt=Z(Gt,[["__scopeId","data-v-a4fc76f7"]]),qt={class:"fixed inset-0 bg-white flex flex-col z-40"},Ut={class:"flex-1 overflow-y-auto"},Wt={class:"relative"},Kt=["src","alt"],Yt={class:"absolute top-4 left-4"},Zt={class:"absolute top-4 right-4"},Qt={class:"bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-semibold"},Xt={class:"px-4 py-6 space-y-6"},te={class:"text-xl font-bold text-gray-900 mb-4"},ee={class:"bg-white rounded-2xl border border-gray-100 p-4"},se={class:"flex items-center mb-4"},ae={class:"ml-auto text-sm text-gray-500"},oe={class:"grid grid-cols-2 gap-4 mb-4"},ie={class:"bg-gray-50 rounded-xl p-3"},ne={class:"text-2xl font-bold text-teal-500"},le={class:"bg-gray-50 rounded-xl p-3"},re={class:"text-2xl font-bold text-teal-500"},ce={class:"relative bg-gradient-to-b from-teal-50 to-white rounded-xl p-4 overflow-hidden"},de=["viewBox"],ue=["y1","y2"],ve=["d"],pe=["d"],ge=["cx","cy"],fe=["x","y"],me=["cx","cy"],xe=["x","y"],he={class:"flex justify-between text-xs text-gray-400 mt-1"},ye={class:"bg-white rounded-2xl border border-gray-100 p-4"},be={class:"bg-teal-50 rounded-xl p-4 mb-3"},we={class:"flex items-center text-sm text-gray-700 mb-2"},_e={class:"font-semibold"},ke={class:"text-sm text-gray-600 ml-6"},$e={class:"flex items-start"},Ce={class:"flex-1"},Ae={class:"font-semibold text-gray-900 mb-1"},Me={key:0,class:"bg-white rounded-2xl border border-gray-100 p-4"},je={class:"text-sm text-gray-600 leading-relaxed"},ze={key:1,class:"bg-white rounded-2xl border border-gray-100 p-4"},Se={class:"flex items-center justify-between mb-4"},Pe={class:"text-sm text-gray-500"},Be={class:"flex -space-x-2"},De=["src","alt"],Te={key:0,class:"w-10 h-10 rounded-full border-2 border-white bg-gray-200 flex items-center justify-center text-xs text-gray-600 font-semibold"},Ee={class:"flex-shrink-0 bg-white border-t border-gray-100 p-4"},Le={class:"flex items-center space-x-3"},Ie=["disabled"],Fe={class:"flex items-center justify-between p-4 border-b"},Ve={class:"overflow-y-auto max-h-[calc(80vh-80px)]"},B=500,w=120,Oe=K({__name:"ActivityDetail",setup(v){const g=et(),h=st(),m=it(),f=Q(),u=rt(),y=C(!1),x=C(!1);P(()=>m.loading);const s=P(()=>{var e;const a=m.currentActivity;return a?{id:parseInt(a.id),title:a.title,coverImage:a.cover_image_url||"https://images.unsplash.com/photo-1551632811-561732d1e306?w=800",status:a.status==="pending"?"æ‹›å‹Ÿä¸­":a.status==="ongoing"?"è¿›è¡Œä¸­":"å·²ç»“æŸ",difficulty:a.difficulty||"0",distance:a.distance||12.5,elevationGain:642,elevationLoss:638,maxElevation:840,minElevation:210,startTime:a.start_time,meetingPoint:a.location,description:a.description||"",participants:[],isJoined:a.is_joined||!1,isOrganizer:a.creator_id===((e=u.currentUser)==null?void 0:e.id),isFavorite:!1,elevationData:[210,280,350,420,520,650,720,780,840,800,720,650,580,520,480,420,380,340,280,210]}:{id:0,title:"åŠ è½½ä¸­...",coverImage:"https://images.unsplash.com/photo-1551632811-561732d1e306?w=800",status:"æ‹›å‹Ÿä¸­",difficulty:"0",distance:0,elevationGain:0,elevationLoss:0,maxElevation:0,minElevation:0,startTime:new Date().toISOString(),meetingPoint:"",description:"",participants:[],isJoined:!1,isOrganizer:!1,isFavorite:!1,elevationData:[210,280,350,420,520,650,720,780,840,800,720,650,580,520,480,420,380,340,280,210]}}),T=P(()=>{const a=s.value.elevationData,e=Math.max(...a),r=Math.min(...a),b=e-r;return`M ${a.map((U,q)=>{const X=q/(a.length-1)*B,tt=w-(U-r)/b*(w-20)-10;return`${X},${tt}`}).join(" L ")}`}),L=P(()=>`${T.value} L ${B},${w} L 0,${w} Z`),A=P(()=>{const a=s.value.elevationData,e=Math.max(...a),r=Math.min(...a),b=e-r;return{x:a.indexOf(e)/(a.length-1)*B,y:w-(e-r)/b*(w-20)-10}}),p=P(()=>{const a=s.value.elevationData,e=Math.max(...a),r=Math.min(...a),b=e-r;return{x:a.indexOf(r)/(a.length-1)*B,y:w-(r-r)/b*(w-20)-10}}),o=a=>{const e=new Date(a),r=e.getFullYear(),b=e.getMonth()+1,H=e.getDate(),q=["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"][e.getDay()];return`${r}-${b.toString().padStart(2,"0")}-${H.toString().padStart(2,"0")} (${q})`},i=a=>{const e=new Date(a),r=e.getHours().toString().padStart(2,"0"),b=e.getMinutes().toString().padStart(2,"0");return`${r}:${b}`},n=()=>{h.back()},_=()=>{y.value=!0},j=()=>{console.log("åˆ†äº«åˆ°å¾®ä¿¡"),y.value=!1},z=()=>{console.log("åˆ†äº«åˆ°æœ‹å‹åœˆ"),y.value=!1},S=()=>{const a=window.location.href;navigator.clipboard.writeText(a).then(()=>{$.success("é“¾æ¥å·²å¤åˆ¶"),y.value=!1})},I=()=>{console.log("ç”Ÿæˆåˆ†äº«å›¾ç‰‡"),y.value=!1},F=()=>{s.value.isFavorite=!s.value.isFavorite},V=()=>{h.push("/chat/organizer")},O=async()=>{const a=g.params.id;if(s.value.isJoined){if(confirm("ç¡®å®šè¦å–æ¶ˆæŠ¥åå—ï¼Ÿ"))try{await m.leaveActivity(a)?($.success("å·²å–æ¶ˆæŠ¥å"),await m.fetchActivityDetail(a)):$.error("å–æ¶ˆæŠ¥åå¤±è´¥: "+m.error)}catch(e){console.error("å–æ¶ˆæŠ¥åå¤±è´¥:",e),$.error("å–æ¶ˆæŠ¥åå¤±è´¥")}}else{const e=prompt("è¯·è¾“å…¥ç”³è¯·ç•™è¨€(å¯é€‰):");if(e===null)return;try{await f.applyToActivity(a,e||void 0),$.success("ç”³è¯·å·²æäº¤,è¯·ç­‰å¾…ç»„ç»‡è€…å®¡æ ¸"),await m.fetchActivityDetail(a)}catch(r){console.error("ç”³è¯·å¤±è´¥:",r),$.error("ç”³è¯·å¤±è´¥: "+(r.message||"è¯·é‡è¯•"))}}},R=()=>{x.value=!0};return Y(async()=>{const a=g.params.id;try{await m.fetchActivityDetail(a),console.log("åŠ è½½æ´»åŠ¨è¯¦æƒ…æˆåŠŸ:",a)}catch(e){console.error("åŠ è½½æ´»åŠ¨è¯¦æƒ…å¤±è´¥:",e)}}),(a,e)=>(d(),c("div",qt,[t("div",{class:"flex-shrink-0 bg-white border-b border-gray-100"},[t("div",{class:"flex items-center justify-between px-4 py-3"},[t("button",{onClick:n,class:"p-2 hover:bg-gray-100 rounded-full transition-colors"},[...e[6]||(e[6]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),e[8]||(e[8]=t("h1",{class:"text-lg font-semibold"},"æ´»åŠ¨è¯¦æƒ…",-1)),t("button",{onClick:_,class:"p-2 hover:bg-gray-100 rounded-full transition-colors"},[...e[7]||(e[7]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})],-1)])])])]),t("div",Ut,[t("div",Wt,[t("img",{src:s.value.coverImage,alt:s.value.title,class:"w-full h-64 object-cover"},null,8,Kt),t("div",Yt,[t("span",{class:D(["px-3 py-1 rounded-full text-xs font-semibold text-white",s.value.status==="æ‹›å‹Ÿä¸­"?"bg-teal-500":s.value.status==="è¿›è¡Œä¸­"?"bg-orange-500":s.value.status==="å·²ç»“æŸ"?"bg-gray-400":"bg-teal-500"])},l(s.value.status),3)]),t("div",Zt,[t("span",Qt," éš¾åº¦ "+l(s.value.difficulty),1)])]),t("div",Xt,[t("div",null,[t("h2",te,l(s.value.title),1)]),t("div",ee,[t("div",se,[e[9]||(e[9]=t("svg",{class:"w-5 h-5 text-teal-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})],-1)),e[10]||(e[10]=t("span",{class:"font-semibold text-gray-900"},"è·¯çº¿è¯¦æƒ…",-1)),t("span",ae,"å…¨ç¨‹ "+l(s.value.distance)+"km",1)]),t("div",oe,[t("div",ie,[e[12]||(e[12]=t("div",{class:"flex items-center text-gray-500 text-xs mb-1"},[t("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),J(" ç´¯è®¡çˆ¬å‡ ")],-1)),t("div",ne,[J(l(s.value.elevationGain),1),e[11]||(e[11]=t("span",{class:"text-sm text-gray-400 ml-1"},"m",-1))])]),t("div",le,[e[14]||(e[14]=t("div",{class:"flex items-center text-gray-500 text-xs mb-1"},[t("svg",{class:"w-4 h-4 mr-1 rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})]),J(" ç´¯è®¡ä¸‹é™ ")],-1)),t("div",re,[J(l(s.value.elevationLoss),1),e[13]||(e[13]=t("span",{class:"text-sm text-gray-400 ml-1"},"m",-1))])])]),t("div",ce,[e[17]||(e[17]=t("div",{class:"flex items-center justify-between mb-2"},[t("span",{class:"text-xs text-gray-500"},"æµ·æ‹” (m)"),t("span",{class:"text-xs text-teal-500 font-semibold"},"â— æ›²çº¿")],-1)),(d(),c("svg",{viewBox:`0 0 ${B} ${w}`,class:"w-full h-32"},[(d(),c(N,null,G(4,r=>t("line",{key:"grid-"+r,x1:0,y1:r*w/4,x2:B,y2:r*w/4,stroke:"#e5e7eb","stroke-width":"0.5"},null,8,ue)),64)),t("path",{d:L.value,fill:"url(#gradient)",opacity:"0.3"},null,8,ve),t("path",{d:T.value,stroke:"#14b8a6","stroke-width":"2",fill:"none"},null,8,pe),t("circle",{cx:A.value.x,cy:A.value.y,r:"4",fill:"#14b8a6"},null,8,ge),t("text",{x:A.value.x,y:A.value.y-10,"text-anchor":"middle","font-size":"10",fill:"#14b8a6","font-weight":"bold"}," Max "+l(s.value.maxElevation)+"m ",9,fe),t("circle",{cx:p.value.x,cy:p.value.y,r:"4",fill:"#94a3b8"},null,8,me),t("text",{x:p.value.x,y:p.value.y+20,"text-anchor":"middle","font-size":"10",fill:"#64748b","font-weight":"bold"}," Min "+l(s.value.minElevation)+"m ",9,xe),e[15]||(e[15]=t("defs",null,[t("linearGradient",{id:"gradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%"},[t("stop",{offset:"0%",style:{"stop-color":"#14b8a6","stop-opacity":"0.5"}}),t("stop",{offset:"100%",style:{"stop-color":"#14b8a6","stop-opacity":"0.05"}})])],-1))],8,de)),t("div",he,[e[16]||(e[16]=t("span",null,"0km",-1)),t("span",null,l((s.value.distance/3).toFixed(1))+"km",1),t("span",null,l((s.value.distance/3*2).toFixed(1))+"km",1),t("span",null,l(s.value.distance)+"km",1)])])]),t("div",ye,[e[21]||(e[21]=t("div",{class:"flex items-center mb-4"},[t("svg",{class:"w-5 h-5 text-teal-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),t("span",{class:"font-semibold text-gray-900"},"æ—¥ç¨‹å®‰æ’")],-1)),t("div",be,[t("div",we,[e[18]||(e[18]=t("svg",{class:"w-4 h-4 mr-2 text-teal-500",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"})],-1)),t("span",_e,l(o(s.value.startTime)),1)]),t("div",ke,l(i(s.value.startTime))+" å‡†æ—¶å‡ºå‘ ",1)]),t("div",$e,[e[20]||(e[20]=t("svg",{class:"w-5 h-5 text-teal-500 mr-3 mt-0.5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})],-1)),t("div",Ce,[t("div",Ae,l(s.value.meetingPoint),1),e[19]||(e[19]=t("div",{class:"text-sm text-gray-500"},"è¯·è‡ªè¡Œå‰å¾€é›†åˆåœ°ç‚¹",-1))])])]),s.value.description?(d(),c("div",Me,[e[22]||(e[22]=t("h3",{class:"font-semibold text-gray-900 mb-3"},"æ´»åŠ¨ç®€ä»‹",-1)),t("p",je,l(s.value.description),1)])):k("",!0),s.value.participants&&s.value.participants.length>0?(d(),c("div",ze,[t("div",Se,[e[23]||(e[23]=t("h3",{class:"font-semibold text-gray-900"},"å‚ä¸è€…",-1)),t("span",Pe,l(s.value.participants.length)+"äººå·²æŠ¥å",1)]),t("div",Be,[(d(!0),c(N,null,G(s.value.participants.slice(0,5),(r,b)=>(d(),c("img",{key:b,src:r.avatar,alt:r.name,class:"w-10 h-10 rounded-full border-2 border-white object-cover"},null,8,De))),128)),s.value.participants.length>5?(d(),c("div",Te," +"+l(s.value.participants.length-5),1)):k("",!0)])])):k("",!0)])]),t("div",Ee,[t("div",Le,[t("button",{onClick:F,class:D(["p-3 rounded-full border transition-all",s.value.isFavorite?"border-red-500 bg-red-50":"border-gray-300 hover:border-gray-400"])},[(d(),c("svg",{class:D(["w-6 h-6",s.value.isFavorite?"text-red-500":"text-gray-400"]),fill:"currentColor",viewBox:"0 0 24 24"},[...e[24]||(e[24]=[t("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"},null,-1)])],2))],2),t("button",{onClick:V,class:"p-3 rounded-full border border-gray-300 hover:border-gray-400 transition-all"},[...e[25]||(e[25]=[t("svg",{class:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})],-1)])]),s.value.isOrganizer?(d(),c("button",{key:0,onClick:R,class:"p-3 rounded-full border border-orange-300 hover:border-orange-400 bg-orange-50 transition-all"},[...e[26]||(e[26]=[t("svg",{class:"w-6 h-6 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})],-1)])])):k("",!0),t("button",{onClick:O,disabled:s.value.status==="å·²ç»“æŸ",class:D(["flex-1 py-3 rounded-full font-semibold text-white transition-all",s.value.isJoined?"bg-gray-400 hover:bg-gray-500":s.value.status==="å·²ç»“æŸ"?"bg-gray-300 cursor-not-allowed":"bg-teal-500 hover:bg-teal-600"])},l(s.value.isJoined?"å·²æŠ¥å":s.value.status==="å·²ç»“æŸ"?"æ´»åŠ¨å·²ç»“æŸ":"ç«‹å³æŠ¥å"),11,Ie)])]),x.value?(d(),c("div",{key:0,onClick:e[2]||(e[2]=r=>x.value=!1),class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4"},[t("div",{onClick:e[1]||(e[1]=W(()=>{},["stop"])),class:"bg-white rounded-2xl w-full max-w-2xl max-h-[80vh] overflow-hidden"},[t("div",Fe,[e[28]||(e[28]=t("h3",{class:"text-lg font-semibold"},"ç”³è¯·ç®¡ç†",-1)),t("button",{onClick:e[0]||(e[0]=r=>x.value=!1),class:"p-2 hover:bg-gray-100 rounded-full"},[...e[27]||(e[27]=[t("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t("div",Ve,[at(Rt,{"activity-id":String(M(g).params.id),"show-participants":!0},null,8,["activity-id"])])])])):k("",!0),y.value?(d(),c("div",{key:1,onClick:e[5]||(e[5]=r=>y.value=!1),class:"fixed inset-0 bg-black/50 flex items-end justify-center z-50"},[t("div",{onClick:e[4]||(e[4]=W(()=>{},["stop"])),class:"bg-white rounded-t-3xl w-full p-6 animate-slide-up"},[e[33]||(e[33]=t("h3",{class:"text-lg font-semibold text-center mb-6"},"åˆ†äº«æ´»åŠ¨",-1)),t("div",{class:"grid grid-cols-4 gap-6 mb-6"},[t("button",{onClick:j,class:"flex flex-col items-center space-y-2"},[...e[29]||(e[29]=[t("div",{class:"w-14 h-14 rounded-full bg-green-500 flex items-center justify-center"},[t("svg",{class:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M8.5 5C4.9 5 2 7.5 2 10.6c0 1.8 1 3.5 2.6 4.5l-.6 2 2.2-1.1c.8.2 1.6.3 2.4.3 3.6 0 6.5-2.5 6.5-5.6S12.1 5 8.5 5zM7 11.5c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm3 0c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})])],-1),t("span",{class:"text-xs text-gray-600"},"å¾®ä¿¡",-1)])]),t("button",{onClick:z,class:"flex flex-col items-center space-y-2"},[...e[30]||(e[30]=[ot('<div class="w-14 h-14 rounded-full bg-green-600 flex items-center justify-center" data-v-a31e4609><svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24" data-v-a31e4609><circle cx="12" cy="12" r="2" data-v-a31e4609></circle><circle cx="6" cy="6" r="2" data-v-a31e4609></circle><circle cx="18" cy="6" r="2" data-v-a31e4609></circle><circle cx="6" cy="18" r="2" data-v-a31e4609></circle><circle cx="18" cy="18" r="2" data-v-a31e4609></circle></svg></div><span class="text-xs text-gray-600" data-v-a31e4609>æœ‹å‹åœˆ</span>',2)])]),t("button",{onClick:S,class:"flex flex-col items-center space-y-2"},[...e[31]||(e[31]=[t("div",{class:"w-14 h-14 rounded-full bg-gray-200 flex items-center justify-center"},[t("svg",{class:"w-8 h-8 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})])],-1),t("span",{class:"text-xs text-gray-600"},"å¤åˆ¶é“¾æ¥",-1)])]),t("button",{onClick:I,class:"flex flex-col items-center space-y-2"},[...e[32]||(e[32]=[t("div",{class:"w-14 h-14 rounded-full bg-purple-500 flex items-center justify-center"},[t("svg",{class:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1),t("span",{class:"text-xs text-gray-600"},"ç”Ÿæˆå›¾ç‰‡",-1)])])]),t("button",{onClick:e[3]||(e[3]=r=>y.value=!1),class:"w-full py-3 bg-gray-100 rounded-full text-gray-700 font-semibold"}," å–æ¶ˆ ")])])):k("",!0)]))}}),Re=Z(Oe,[["__scopeId","data-v-a31e4609"]]);export{Re as default};
