import{k as D,J as G,r as m,d as N,v as o,q as r,z as e,S as T,L as x,M as b,x as u,O as v,P as k,A as d,U as _,y as f}from"./vue-B6Xl8iL6.js";import{u as I,t as c,_ as L}from"./index-DSiq_KRh.js";import"./state-BRWMog1q.js";const P={class:"user-guide min-h-screen flex flex-col bg-gradient-to-br from-teal-50 via-emerald-50 to-cyan-50 relative overflow-hidden"},R={class:"relative z-10 flex flex-col flex-1"},$={class:"flex justify-between px-6 py-4"},E={class:"text-xs text-center mt-2 text-gray-700"},F={class:"flex-1 px-6 py-4 overflow-y-auto"},O={key:0,class:"space-y-4 animate-fade-in"},q={class:"text-xs text-gray-500 mt-1"},H={class:"grid grid-cols-2 gap-3"},J=["value"],K={class:"text-xs text-gray-500 mt-1"},Q={key:1,class:"space-y-4 animate-fade-in"},W={class:"flex justify-center mb-6"},X={class:"relative"},Y={class:"w-32 h-32 bg-gradient-to-br from-teal-100 to-emerald-100 rounded-full flex items-center justify-center overflow-hidden border-4 border-teal-500 shadow-xl"},Z=["src"],ee={key:1,class:"text-5xl"},te={key:2,class:"space-y-4 animate-fade-in"},se={class:"grid grid-cols-3 gap-2"},le=["onClick"],ae={class:"flex gap-2 flex-wrap"},oe=["onClick"],re={key:0,class:"bg-amber-50 rounded-xl p-3 border border-amber-200"},ne={key:3,class:"space-y-4 animate-fade-in text-center"},ie={class:"pt-8"},de={class:"bg-white rounded-2xl p-6 mb-6 space-y-3 text-left border border-gray-200"},ue={class:"flex items-center justify-between"},ce={class:"font-semibold text-gray-800"},xe={class:"flex items-center justify-between"},be={class:"font-semibold text-gray-800"},ve={class:"flex items-center justify-between"},fe={class:"font-semibold text-gray-800"},ge={class:"flex items-center justify-between"},me={class:"font-semibold text-gray-800"},pe={class:"px-6 pb-6 pt-4 space-y-3 bg-gradient-to-t from-white to-transparent"},ye=["disabled"],we=D({__name:"UserGuide",setup(he){const p=G(),j=I(),y=m(null),a=m(0),C=[{label:"åŸºæœ¬ä¿¡æ¯"},{label:"å¤´åƒ"},{label:"åå¥½"},{label:"å®Œæˆ"}],U=["å‘¨æœ«å‡ºå‘","é«˜æµ·æ‹”","è‡ªç„¶é£æ™¯","å†å²æ–‡åŒ–","æ¸©æ³‰","å¾’æ­¥","éœ²è¥","æ‘„å½±","å›¢é˜Ÿ","äº²å­"],s=m({nickname:"",age:"",gender:"",bio:"",avatar:"",preferences:[]}),g=N(()=>{switch(a.value){case 0:return s.value.nickname&&s.value.age&&s.value.gender;case 1:return!0;case 2:return s.value.preferences.length>=2;case 3:return!0;default:return!1}}),w=n=>{const t=s.value.preferences.indexOf(n);t>-1?s.value.preferences.splice(t,1):s.value.preferences.length<5?s.value.preferences.push(n):c.warning("æœ€å¤šé€‰æ‹© 5 ä¸ªåå¥½")},S=async n=>{var i;const t=(i=n.target.files)==null?void 0:i[0];if(!t)return;if(t.size>5*1024*1024){c.error("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡ 5MB");return}const l=new FileReader;l.onload=M=>{var h;s.value.avatar=(h=M.target)==null?void 0:h.result,c.success("å¤´åƒå·²é€‰æ‹©")},l.readAsDataURL(t)},V=async()=>{g.value&&(a.value===3?await A():a.value++)},z=()=>{a.value>0&&a.value--},A=async()=>{try{const n=j.currentUser;n&&(n.nickname=s.value.nickname,n.age=Number(s.value.age),n.bio=s.value.bio),c.success("âœ“ å¼•å¯¼å®Œæˆï¼"),setTimeout(()=>{p.push("/discover")},500)}catch(n){console.error("Error completing guide:",n),c.error("ä¿å­˜ä¿¡æ¯å¤±è´¥")}},B=async()=>{c.info("å·²è·³è¿‡å¼•å¯¼"),setTimeout(()=>{p.push("/discover")},300)};return(n,t)=>(r(),o("div",P,[t[27]||(t[27]=e("div",{class:"absolute inset-0 overflow-hidden pointer-events-none"},[e("div",{class:"absolute top-0 left-0 w-96 h-96 bg-teal-200/20 rounded-full blur-3xl animate-pulse"}),e("div",{class:"absolute bottom-0 right-0 w-80 h-80 bg-emerald-200/20 rounded-full blur-3xl animate-pulse",style:{"animation-delay":"2s"}}),e("div",{class:"absolute top-1/2 left-1/2 w-72 h-72 bg-cyan-200/20 rounded-full blur-3xl animate-pulse",style:{"animation-delay":"4s"}})],-1)),e("div",R,[t[26]||(t[26]=T('<div class="px-6 pt-8 pb-2 text-center" data-v-e6f01768><div class="flex items-center justify-center gap-2 mb-3" data-v-e6f01768><svg class="w-8 h-8 text-teal-500 animate-bounce" fill="currentColor" viewBox="0 0 20 20" data-v-e6f01768><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10.666A1 1 0 018 18.57V13H4a1 1 0 01-.82-1.573l7-10.666a1 1 0 011.12-.26z" clip-rule="evenodd" data-v-e6f01768></path></svg><h1 class="text-3xl font-bold bg-gradient-to-r from-teal-600 to-emerald-600 bg-clip-text text-transparent" data-v-e6f01768> æ¬¢è¿åŠ å…¥ </h1></div><p class="text-gray-600 text-base" data-v-e6f01768>å®Œå–„ä½ çš„ä¿¡æ¯ï¼Œå¼€å¯å¾’æ­¥ä¹‹æ—…</p></div>',1)),e("div",$,[(r(),o(x,null,b(C,(l,i)=>e("div",{key:i,class:"flex flex-col items-center flex-1"},[e("div",{class:f(["w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all",a.value===i?"bg-teal-500 text-white scale-110 shadow-lg":a.value>i?"bg-teal-200 text-teal-700":"bg-gray-200 text-gray-500"])},d(i+1),3),e("p",E,d(l.label),1)])),64))]),e("div",F,[a.value===0?(r(),o("div",O,[t[11]||(t[11]=e("div",{class:"text-center mb-6"},[e("div",{class:"text-5xl mb-3"},"ğŸ‘¤"),e("h2",{class:"text-2xl font-bold text-gray-800"},"åŸºæœ¬ä¿¡æ¯"),e("p",{class:"text-sm text-gray-600 mt-2"},"è®©æˆ‘ä»¬äº†è§£ä¸€ä¸‹ä½ ")],-1)),e("div",null,[t[5]||(t[5]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"æ˜µç§° *",-1)),v(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>s.value.nickname=l),type:"text",placeholder:"è¾“å…¥ä½ çš„æ˜µç§°",maxlength:"20",class:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 text-base transition"},null,512),[[k,s.value.nickname]]),e("p",q,d(s.value.nickname.length)+"/20",1)]),e("div",H,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"å¹´é¾„ *",-1)),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>s.value.age=l),class:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 text-base transition"},[t[6]||(t[6]=e("option",{value:""},"é€‰æ‹©å¹´é¾„",-1)),(r(),o(x,null,b(70,l=>e("option",{key:l,value:l},d(l+18)+"å²",9,J)),64))],512),[[_,s.value.age]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"æ€§åˆ« *",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>s.value.gender=l),class:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 text-base transition"},[...t[8]||(t[8]=[e("option",{value:""},"é€‰æ‹©æ€§åˆ«",-1),e("option",{value:"male"},"ç”·",-1),e("option",{value:"female"},"å¥³",-1),e("option",{value:"other"},"å…¶ä»–",-1)])],512),[[_,s.value.gender]])])]),e("div",null,[t[10]||(t[10]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-2"},"ä¸ªäººç®€ä»‹",-1)),v(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=l=>s.value.bio=l),placeholder:"åˆ†äº«ä¸€äº›å…³äºä½ è‡ªå·±çš„ä¿¡æ¯...",maxlength:"100",class:"w-full px-4 py-3 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 text-base transition resize-none",rows:"3"},null,512),[[k,s.value.bio]]),e("p",K,d(s.value.bio.length)+"/100",1)])])):u("",!0),a.value===1?(r(),o("div",Q,[t[13]||(t[13]=e("div",{class:"text-center mb-6"},[e("div",{class:"text-5xl mb-3"},"ğŸ“·"),e("h2",{class:"text-2xl font-bold text-gray-800"},"ä¸Šä¼ å¤´åƒ"),e("p",{class:"text-sm text-gray-600 mt-2"},"è®©å¤§å®¶è®¤è¯†ä½ ")],-1)),e("div",W,[e("div",X,[e("div",Y,[s.value.avatar?(r(),o("img",{key:0,src:s.value.avatar,alt:"å¤´åƒé¢„è§ˆ",class:"w-full h-full object-cover"},null,8,Z)):(r(),o("span",ee,"ğŸ‘¤"))]),t[12]||(t[12]=e("div",{class:"absolute bottom-0 right-0 bg-teal-500 text-white w-12 h-12 rounded-full flex items-center justify-center text-xl shadow-lg cursor-pointer hover:bg-teal-600 transition"}," + ",-1))])]),e("input",{ref_key:"avatarInput",ref:y,type:"file",accept:"image/*",onChange:S,class:"hidden"},null,544),e("button",{onClick:t[4]||(t[4]=l=>{var i;return(i=y.value)==null?void 0:i.click()}),class:"w-full py-3 bg-white border-2 border-dashed border-teal-300 rounded-2xl text-teal-600 font-semibold hover:border-teal-500 hover:bg-teal-50 transition"}," ğŸ“ é€‰æ‹©å›¾ç‰‡ "),t[14]||(t[14]=e("div",{class:"bg-teal-50 rounded-xl p-3 border border-teal-200"},[e("p",{class:"text-xs text-teal-700"},"ğŸ’¡ é€‰æ‹©ä¸€å¼ æ¸…æ™°çš„ç…§ç‰‡ï¼Œæœ€å¥½æ˜¯æœ€è¿‘çš„è¯ä»¶ç…§æˆ–è‡ªæ‹")],-1))])):u("",!0),a.value===2?(r(),o("div",te,[t[18]||(t[18]=e("div",{class:"text-center mb-6"},[e("div",{class:"text-5xl mb-3"},"ğŸ”ï¸"),e("h2",{class:"text-2xl font-bold text-gray-800"},"å¾’æ­¥åå¥½"),e("p",{class:"text-sm text-gray-600 mt-2"},"é€‰æ‹©ä½ æ„Ÿå…´è¶£çš„å¾’æ­¥ç±»å‹")],-1)),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"éš¾åº¦åå¥½",-1)),e("div",se,[(r(),o(x,null,b(["å…¥é—¨","ä¸­ç­‰","å›°éš¾"],l=>e("button",{key:l,onClick:i=>w(l),class:f(["py-3 rounded-xl font-semibold transition-all",s.value.preferences.includes(l)?l==="å…¥é—¨"?"bg-green-500 text-white shadow-lg":l==="ä¸­ç­‰"?"bg-yellow-500 text-white shadow-lg":"bg-red-500 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},d(l),11,le)),64))])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-semibold text-gray-700 mb-3"},"å…´è¶£æ ‡ç­¾ (é€‰æ‹© 2-5 ä¸ª)",-1)),e("div",ae,[(r(),o(x,null,b(U,l=>e("button",{key:l,onClick:i=>w(l),class:f(["px-4 py-2 rounded-full font-medium transition-all text-sm",s.value.preferences.includes(l)?"bg-teal-500 text-white shadow-lg":"bg-gray-100 text-gray-600 hover:bg-gray-200"])},d(l),11,oe)),64))])]),s.value.preferences.length<2?(r(),o("div",re,[...t[17]||(t[17]=[e("p",{class:"text-xs text-amber-700"},"âš ï¸ è¯·è‡³å°‘é€‰æ‹© 2 ä¸ªåå¥½",-1)])])):u("",!0)])):u("",!0),a.value===3?(r(),o("div",ne,[e("div",ie,[t[23]||(t[23]=e("div",{class:"text-6xl mb-4 animate-bounce"},"ğŸ‰",-1)),t[24]||(t[24]=e("h2",{class:"text-3xl font-bold text-gray-800 mb-2"},"å‡†å¤‡å¥½äº†ï¼",-1)),t[25]||(t[25]=e("p",{class:"text-gray-600 mb-6"},"ä½ çš„ä¿¡æ¯å·²å®Œå–„ï¼Œç°åœ¨å¯ä»¥å¼€å¯å¾’æ­¥ä¹‹æ—…äº†",-1)),e("div",de,[e("div",ue,[t[19]||(t[19]=e("span",{class:"text-gray-600"},"æ˜µç§°ï¼š",-1)),e("span",ce,d(s.value.nickname),1)]),e("div",xe,[t[20]||(t[20]=e("span",{class:"text-gray-600"},"å¹´é¾„ï¼š",-1)),e("span",be,d(s.value.age)+"å²",1)]),e("div",ve,[t[21]||(t[21]=e("span",{class:"text-gray-600"},"æ€§åˆ«ï¼š",-1)),e("span",fe,d(s.value.gender==="male"?"ç”·":s.value.gender==="female"?"å¥³":"å…¶ä»–"),1)]),e("div",ge,[t[22]||(t[22]=e("span",{class:"text-gray-600"},"åå¥½ï¼š",-1)),e("span",me,d(s.value.preferences.join("ã€")),1)])])])])):u("",!0)]),e("div",pe,[a.value>0?(r(),o("button",{key:0,onClick:z,class:"w-full py-3 bg-gray-100 text-gray-700 rounded-2xl font-semibold hover:bg-gray-200 transition"}," ä¸Šä¸€æ­¥ ")):u("",!0),e("button",{onClick:V,disabled:!g.value,class:f(["w-full py-4 rounded-2xl font-bold text-base transition-all flex items-center justify-center gap-2",g.value?"bg-gradient-to-r from-teal-500 to-emerald-500 text-white hover:from-teal-600 hover:to-emerald-600 shadow-lg hover:shadow-xl":"bg-gray-300 text-gray-500 cursor-not-allowed"])},d(a.value===3?"âœ“ å®Œæˆ":"ç»§ç»­ â†’"),11,ye),a.value<3?(r(),o("button",{key:1,onClick:B,class:"w-full py-2 text-gray-600 text-sm hover:text-gray-800 transition font-medium"}," è·³è¿‡å¼•å¯¼ ")):u("",!0)])])]))}}),Ce=L(we,[["__scopeId","data-v-e6f01768"]]);export{Ce as default};
