import{k as V,r as f,d as y,v as l,q as n,z as e,x as c,L as x,M as b,A as i,Q as k,O as L,P as A,N as O,S as F,y as w}from"./vue-B6Xl8iL6.js";import{_ as I}from"./index-Cx7KepAh.js";import"./state-BRWMog1q.js";const N={class:"offline-map min-h-screen bg-gray-50"},T={class:"fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200 safe-area-inset-top"},E={class:"flex items-center justify-between px-4 h-14"},H={class:"fixed top-14 left-0 right-0 z-40 bg-white border-b border-gray-200 px-4 py-2"},P={class:"flex gap-2"},Q=["onClick"],q={class:"pt-28 pb-6 px-4"},G={key:0},U={class:"bg-gradient-to-br from-teal-500 to-teal-600 rounded-2xl p-5 text-white shadow-lg mb-4"},W={class:"mb-2"},J={class:"flex items-center justify-between text-sm mb-1"},K={class:"w-full h-2 bg-teal-400 bg-opacity-30 rounded-full overflow-hidden"},R={class:"text-teal-100 text-xs"},X={key:0,class:"text-center py-16"},Y={key:1,class:"space-y-3"},Z={class:"flex items-start"},ee={class:"flex-1"},te={class:"flex items-center justify-between mb-1"},se={class:"font-bold text-gray-900"},oe={class:"space-y-1 mb-3"},le={class:"flex items-center text-sm text-gray-600"},ne={class:"flex items-center text-sm text-gray-600"},ie={class:"flex gap-2"},de=["onClick"],ae=["onClick"],re={key:1},ue={class:"mb-4"},ve={class:"relative"},fe={class:"mb-6"},ce={class:"grid grid-cols-3 gap-2"},xe=["onClick"],be={class:"space-y-3"},ge={class:"flex items-start"},me={class:"w-16 h-16 bg-gradient-to-br from-blue-400 to-blue-600 rounded-xl flex items-center justify-center flex-shrink-0 mr-4"},we={class:"text-2xl"},he={class:"flex-1"},pe={class:"font-bold text-gray-900 mb-1"},ye={class:"flex items-center text-sm text-gray-600 mb-3"},ke={key:0,class:"mb-3"},_e={class:"flex items-center justify-between text-xs text-gray-600 mb-1"},Ce={class:"w-full h-1.5 bg-gray-200 rounded-full overflow-hidden"},Me=["onClick","disabled"],ze=["onClick"],$e={class:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl"},je={class:"flex items-center justify-between mb-4"},_=10,Be=V({__name:"OfflineMap",setup(De){const C=[{id:"downloaded",name:"å·²ä¸‹è½½"},{id:"download",name:"ä¸‹è½½åœ°å›¾"}],r=f("downloaded"),u=f(!1),g=f(""),h=y(()=>(d.value.reduce((t,s)=>t+s.size,0)/1024).toFixed(2)),p=y(()=>Math.min(100,Math.round(parseFloat(h.value)/_*100))),d=f([{id:1,name:"åŒ—äº¬å¸‚åœ°å›¾",size:256,status:"latest",downloadDate:"2024-01-15"},{id:2,name:"æ²³åŒ—çœåœ°å›¾",size:512,status:"outdated",downloadDate:"2023-12-20"}]),M=["åŒ—äº¬","ä¸Šæµ·","å¹¿å·","æ·±åœ³","æ­å·","æˆéƒ½"],v=f([{id:3,name:"å¤©æ´¥å¸‚åœ°å›¾",icon:"ğŸ™ï¸",size:180,version:"v2024.01",downloaded:!1,downloading:!1,progress:0},{id:4,name:"å±±è¥¿çœåœ°å›¾",icon:"â›°ï¸",size:420,version:"v2024.01",downloaded:!1,downloading:!1,progress:0},{id:5,name:"å†…è’™å¤åœ°å›¾",icon:"ğŸ•ï¸",size:680,version:"v2024.01",downloaded:!1,downloading:!1,progress:0},{id:6,name:"æµ™æ±Ÿçœåœ°å›¾",icon:"ğŸŒŠ",size:320,version:"v2024.01",downloaded:!1,downloading:!1,progress:0}]),z=o=>{g.value=o},$=o=>{const t=v.value.find(a=>a.id===o);if(!t)return;t.downloading=!0,t.progress=0;const s=setInterval(()=>{t.progress+=10,t.progress>=100&&(clearInterval(s),t.downloading=!1,t.downloaded=!0,d.value.push({id:t.id,name:t.name,size:t.size,status:"latest",downloadDate:new Date().toISOString().split("T")[0]}),alert(`${t.name}ä¸‹è½½å®Œæˆï¼`))},300)},j=o=>{const t=v.value.find(s=>s.id===o);t&&(t.downloading=!1,t.progress=0)},B=o=>{const t=d.value.find(s=>s.id===o);t&&confirm(`ç¡®å®šè¦æ›´æ–° ${t.name} å—ï¼Ÿ`)&&(alert("å¼€å§‹æ›´æ–°åœ°å›¾..."),t.status="latest",t.downloadDate=new Date().toISOString().split("T")[0])},D=o=>{const t=d.value.find(s=>s.id===o);if(t&&confirm(`ç¡®å®šè¦åˆ é™¤ ${t.name} å—ï¼Ÿåˆ é™¤åéœ€è¦é‡æ–°ä¸‹è½½ã€‚`)){const s=d.value.findIndex(m=>m.id===o);d.value.splice(s,1);const a=v.value.find(m=>m.id===o);a&&(a.downloaded=!1)}},S=()=>{confirm("ç¡®å®šè¦æ¸…ç†æ‰€æœ‰ç¦»çº¿åœ°å›¾å—ï¼Ÿè¿™å°†é‡Šæ”¾å­˜å‚¨ç©ºé—´ï¼Œä½†éœ€è¦é‡æ–°ä¸‹è½½ã€‚")&&(d.value=[],v.value.forEach(o=>{o.downloaded=!1}),alert("æ¸…ç†å®Œæˆï¼"))};return(o,t)=>(n(),l("div",N,[e("div",T,[e("div",E,[e("button",{onClick:t[0]||(t[0]=s=>o.$router.back()),class:"p-2"},[...t[7]||(t[7]=[e("svg",{class:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),t[9]||(t[9]=e("h1",{class:"text-lg font-semibold text-gray-900"},"ç¦»çº¿åœ°å›¾",-1)),e("button",{onClick:t[1]||(t[1]=s=>u.value=!0),class:"p-2"},[...t[8]||(t[8]=[e("svg",{class:"w-6 h-6 text-gray-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)])])])]),e("div",H,[e("div",P,[(n(),l(x,null,b(C,s=>e("button",{key:s.id,onClick:a=>r.value=s.id,class:w(["flex-1 h-10 rounded-xl font-medium text-sm transition-all",r.value===s.id?"bg-teal-500 text-white shadow-md":"text-gray-600 hover:bg-gray-100"])},i(s.name),11,Q)),64))])]),e("div",q,[r.value==="downloaded"?(n(),l("div",G,[e("div",U,[e("div",{class:"flex items-center justify-between mb-3"},[t[10]||(t[10]=e("h3",{class:"text-lg font-bold"},"å­˜å‚¨ç©ºé—´",-1)),e("button",{onClick:S,class:"text-sm text-teal-100 hover:text-white"}," æ¸…ç†å…¨éƒ¨ ")]),e("div",W,[e("div",J,[e("span",null,"å·²ä½¿ç”¨ "+i(h.value)+" / "+i(_)+" GB",1),e("span",null,i(p.value)+"%",1)]),e("div",K,[e("div",{class:"h-full bg-white rounded-full transition-all duration-300",style:k({width:`${p.value}%`})},null,4)])]),e("p",R,i(d.value.length)+" ä¸ªåœ°å›¾åŒ…å·²ä¸‹è½½",1)]),d.value.length===0?(n(),l("div",X,[t[11]||(t[11]=e("div",{class:"text-6xl mb-4"},"ğŸ—ºï¸",-1)),t[12]||(t[12]=e("p",{class:"text-gray-600 mb-2"},"æš‚æ— ç¦»çº¿åœ°å›¾",-1)),t[13]||(t[13]=e("p",{class:"text-sm text-gray-400 mb-6"},"ä¸‹è½½åœ°å›¾åŒ…ï¼Œæ— ç½‘ç»œä¹Ÿèƒ½å¯¼èˆª",-1)),e("button",{onClick:t[2]||(t[2]=s=>r.value="download"),class:"px-6 py-2.5 bg-teal-500 text-white rounded-xl font-medium hover:bg-teal-600 transition"}," å»ä¸‹è½½ ")])):(n(),l("div",Y,[(n(!0),l(x,null,b(d.value,s=>(n(),l("div",{key:s.id,class:"bg-white rounded-2xl shadow-sm p-4"},[e("div",Z,[t[16]||(t[16]=e("div",{class:"w-20 h-20 bg-gradient-to-br from-teal-400 to-teal-600 rounded-xl flex items-center justify-center flex-shrink-0 mr-4"},[e("svg",{class:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})])],-1)),e("div",ee,[e("div",te,[e("h4",se,i(s.name),1),e("span",{class:w(["text-xs px-2 py-1 rounded-full",s.status==="latest"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"])},i(s.status==="latest"?"æœ€æ–°":"æœ‰æ›´æ–°"),3)]),e("div",oe,[e("div",le,[t[14]||(t[14]=e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})],-1)),e("span",null,i(s.size)+" MB",1)]),e("div",ne,[t[15]||(t[15]=e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),e("span",null,i(s.downloadDate),1)])]),e("div",ie,[s.status==="outdated"?(n(),l("button",{key:0,onClick:a=>B(s.id),class:"flex-1 h-9 bg-teal-50 text-teal-600 rounded-lg text-sm font-medium hover:bg-teal-100 transition"}," æ›´æ–°åœ°å›¾ ",8,de)):c("",!0),e("button",{onClick:a=>D(s.id),class:"flex-1 h-9 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 transition"}," åˆ é™¤ ",8,ae)])])])]))),128))]))])):c("",!0),r.value==="download"?(n(),l("div",re,[e("div",ue,[e("div",ve,[L(e("input",{"onUpdate:modelValue":t[3]||(t[3]=s=>g.value=s),type:"text",placeholder:"æœç´¢åŸå¸‚æˆ–åœ°åŒº...",class:"w-full h-12 pl-12 pr-4 border border-gray-300 rounded-xl focus:ring-2 focus:ring-teal-500 focus:border-transparent"},null,512),[[A,g.value]]),t[17]||(t[17]=e("svg",{class:"absolute left-4 top-3.5 w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))])]),e("div",fe,[t[18]||(t[18]=e("h3",{class:"text-sm font-semibold text-gray-700 mb-3"},"çƒ­é—¨åŸå¸‚",-1)),e("div",ce,[(n(),l(x,null,b(M,s=>e("button",{key:s,onClick:a=>z(s),class:"h-10 bg-white border border-gray-200 rounded-xl text-sm font-medium text-gray-700 hover:border-teal-500 hover:text-teal-600 transition"},i(s),9,xe)),64))])]),e("div",null,[t[22]||(t[22]=e("h3",{class:"text-sm font-semibold text-gray-700 mb-3"},"å…¨éƒ¨åœ°åŒº",-1)),e("div",be,[(n(!0),l(x,null,b(v.value,s=>(n(),l("div",{key:s.id,class:"bg-white rounded-2xl shadow-sm p-4"},[e("div",ge,[e("div",me,[e("span",we,i(s.icon),1)]),e("div",he,[e("h4",pe,i(s.name),1),e("div",ye,[t[19]||(t[19]=e("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})],-1)),e("span",null,i(s.size)+" MB",1),t[20]||(t[20]=e("span",{class:"mx-2"},"â€¢",-1)),e("span",null,i(s.version),1)]),s.downloading?(n(),l("div",ke,[e("div",_e,[t[21]||(t[21]=e("span",null,"ä¸‹è½½ä¸­...",-1)),e("span",null,i(s.progress)+"%",1)]),e("div",Ce,[e("div",{class:"h-full bg-teal-500 rounded-full transition-all duration-300",style:k({width:`${s.progress}%`})},null,4)])])):c("",!0),s.downloading?(n(),l("button",{key:2,onClick:a=>j(s.id),class:"w-full h-9 bg-red-50 text-red-600 rounded-lg text-sm font-medium hover:bg-red-100 transition"}," å–æ¶ˆä¸‹è½½ ",8,ze)):(n(),l("button",{key:1,onClick:a=>$(s.id),disabled:s.downloaded,class:w(["w-full h-9 rounded-lg text-sm font-medium transition",s.downloaded?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-teal-500 text-white hover:bg-teal-600"])},i(s.downloaded?"å·²ä¸‹è½½":"ä¸‹è½½åœ°å›¾"),11,Me))])])]))),128))])])])):c("",!0)]),u.value?(n(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 px-4",onClick:t[6]||(t[6]=O(s=>u.value=!1,["self"]))},[e("div",$e,[e("div",je,[t[24]||(t[24]=e("h3",{class:"text-xl font-bold text-gray-900"},"ä½¿ç”¨è¯´æ˜",-1)),e("button",{onClick:t[4]||(t[4]=s=>u.value=!1),class:"p-1"},[...t[23]||(t[23]=[e("svg",{class:"w-6 h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),t[25]||(t[25]=F('<div class="space-y-4 text-sm text-gray-600" data-v-eb71e4f2><div data-v-eb71e4f2><h4 class="font-semibold text-gray-900 mb-2" data-v-eb71e4f2>ğŸ“¥ ç¦»çº¿åœ°å›¾çš„ä½œç”¨</h4><p data-v-eb71e4f2>ä¸‹è½½ç¦»çº¿åœ°å›¾åï¼Œå³ä½¿æ²¡æœ‰ç½‘ç»œè¿æ¥ï¼Œä¹Ÿèƒ½æŸ¥çœ‹åœ°å›¾ã€å¯¼èˆªè·¯çº¿ï¼Œä¿éšœæˆ·å¤–å¾’æ­¥å®‰å…¨ã€‚</p></div><div data-v-eb71e4f2><h4 class="font-semibold text-gray-900 mb-2" data-v-eb71e4f2>ğŸ’¡ ä½¿ç”¨å»ºè®®</h4><ul class="list-disc list-inside space-y-1" data-v-eb71e4f2><li data-v-eb71e4f2>å‡ºå‘å‰æå‰ä¸‹è½½ç›®çš„åœ°åœ°å›¾</li><li data-v-eb71e4f2>å»ºè®®åœ¨WiFiç¯å¢ƒä¸‹ä¸‹è½½</li><li data-v-eb71e4f2>å®šæœŸæ›´æ–°åœ°å›¾è·å–æœ€æ–°æ•°æ®</li><li data-v-eb71e4f2>åŠæ—¶æ¸…ç†ä¸éœ€è¦çš„åœ°å›¾åŒ…</li></ul></div><div data-v-eb71e4f2><h4 class="font-semibold text-gray-900 mb-2" data-v-eb71e4f2>âš ï¸ æ³¨æ„äº‹é¡¹</h4><p data-v-eb71e4f2>ç¦»çº¿åœ°å›¾å ç”¨è¾ƒå¤šå­˜å‚¨ç©ºé—´ï¼Œè¯·æ ¹æ®æ‰‹æœºå®¹é‡åˆç†ä¸‹è½½ã€‚éƒ¨åˆ†åŠŸèƒ½ï¼ˆå¦‚å®æ—¶è·¯å†µï¼‰ä»éœ€ç½‘ç»œæ”¯æŒã€‚</p></div></div>',1)),e("button",{onClick:t[5]||(t[5]=s=>u.value=!1),class:"w-full h-12 mt-6 bg-teal-500 hover:bg-teal-600 text-white rounded-xl font-semibold transition"}," çŸ¥é“äº† ")])])):c("",!0)]))}}),Ae=I(Be,[["__scopeId","data-v-eb71e4f2"]]);export{Ae as default};
