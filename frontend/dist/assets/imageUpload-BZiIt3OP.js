import"./index-Bhs_HTB-.js";import{u as h}from"./upload-DLsbfgKt.js";const I=async s=>{const e=await h.uploadPhotos(s);if(e.code===200&&e.data)return e.data.photos;throw new Error(e.message||"上传照片失败")},P=(s,e=1200,n=1200,l=.8)=>new Promise((g,i)=>{const c=new FileReader;c.onload=m=>{var p;const a=new Image;a.onload=()=>{const r=document.createElement("canvas");let o=a.width,t=a.height;(o>e||t>n)&&(o>t?(t=t*e/o,o=e):(o=o*n/t,t=n)),r.width=o,r.height=t;const d=r.getContext("2d");d==null||d.drawImage(a,0,0,o,t);const w=r.toDataURL("image/jpeg",l);g(w)},a.onerror=i,a.src=(p=m.target)==null?void 0:p.result},c.onerror=i,c.readAsDataURL(s)});export{P as c,I as u};
