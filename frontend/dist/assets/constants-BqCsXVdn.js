import"./index-CdGZvDMd.js";import{u}from"./upload-d0XuA_4S.js";const f=async r=>{const e=await u.uploadPhotos(r);if(e.code===200&&e.data)return e.data.photos;throw new Error(e.message||"上传照片失败")},v=(r,e=1200,n=1200,l=.8)=>new Promise((g,i)=>{const c=new FileReader;c.onload=m=>{var p;const t=new Image;t.onload=()=>{const s=document.createElement("canvas");let o=t.width,a=t.height;(o>e||a>n)&&(o>a?(a=a*e/o,o=e):(o=o*n/a,a=n)),s.width=o,s.height=a;const d=s.getContext("2d");d==null||d.drawImage(t,0,0,o,a);const h=s.toDataURL("image/jpeg",l);g(h)},t.onerror=i,t.src=(p=m.target)==null?void 0:p.result},c.onerror=i,c.readAsDataURL(r)}),D={AVATAR:"https://api.dicebear.com/7.x/avataaars/svg?seed=default"};export{D,v as c,f as u};
