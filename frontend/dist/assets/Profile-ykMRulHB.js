import{k as _,J as C,d as u,l as k,v as l,q as a,z as e,S as h,x as z,A as d,O as f,P as p}from"./vue-Eb8ZdQV1.js";import{u as M,_ as V}from"./index-BQQdwWu-.js";import"./state-WzMdx_T8.js";const B={class:"profile-page"},L={class:"px-4 py-6 pb-20"},S={class:"flex flex-col items-center mb-6"},P={class:"relative mb-4"},j=["src","alt"],H={class:"flex items-center gap-2 mb-1"},U={class:"text-2xl font-bold text-gray-800"},q={key:0,class:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24"},N={class:"px-3 py-1 bg-blue-50 text-blue-600 text-sm font-semibold rounded-full"},T={class:"bg-white rounded-2xl shadow-sm p-5 mb-4"},A={class:"text-gray-700 leading-relaxed"},D={class:"bg-white rounded-2xl shadow-sm p-5 mb-4"},E={class:"flex flex-wrap gap-2"},F={class:"bg-white rounded-2xl shadow-sm p-5 mb-4"},I={class:"grid grid-cols-3 gap-3"},J=["src","alt"],O=_({__name:"Profile",setup(R){const n=C(),i=M(),o=u(()=>i.currentUser),s=u(()=>o.value?{avatar:o.value.avatar_url||"https://via.placeholder.com/112",nickname:o.value.nickname,gender:o.value.gender,age:o.value.age||0,bio:o.value.bio||"这个人很懒，什么都没写...",preferences:[],photos:[]}:{avatar:"https://via.placeholder.com/112",nickname:"加载中...",gender:"other",age:0,bio:"",preferences:[],photos:[]}),m=()=>{n.back()},g=()=>{console.log("前往设置页面")},x=()=>{n.push("/edit-profile")},b=()=>{console.log("添加照片")},w=()=>{n.push("/privacy-settings")},y=async()=>{try{o.value||await i.fetchCurrentUser(),console.log("用户资料加载成功")}catch(v){console.error("加载用户资料失败:",v)}};return k(()=>{y()}),(v,t)=>(a(),l("div",B,[e("div",{class:"sticky top-0 z-10 bg-white border-b border-gray-200"},[e("div",{class:"flex items-center justify-between px-4 py-4"},[e("button",{onClick:m,class:"p-2"},[...t[0]||(t[0]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})],-1)])]),t[2]||(t[2]=e("h1",{class:"text-xl font-bold text-gray-800"},"个人资料",-1)),e("button",{onClick:g,class:"p-2"},[...t[1]||(t[1]=[e("svg",{class:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"})],-1)])])])]),e("div",L,[e("div",S,[e("div",P,[e("img",{src:s.value.avatar,alt:s.value.nickname,class:"w-28 h-28 rounded-full object-cover border-4 border-white shadow-lg"},null,8,j),t[3]||(t[3]=h('<div class="absolute bottom-0 right-0 w-10 h-10 bg-teal-500 rounded-full flex items-center justify-center border-4 border-white" data-v-1f53e52d><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 24 24" data-v-1f53e52d><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" data-v-1f53e52d></path><path d="M0 0h24v24H0z" fill="none" data-v-1f53e52d></path><circle cx="12" cy="8" r="1.5" data-v-1f53e52d></circle><path d="M12 15c-1.5 0-2.7.4-3.6.9l-.9.6c-.3.2-.5.6-.5 1v.5h10v-.5c0-.4-.2-.8-.5-1l-.9-.6c-.9-.5-2.1-.9-3.6-.9z" data-v-1f53e52d></path></svg></div>',1))]),e("div",H,[e("h2",U,d(s.value.nickname),1),s.value.gender==="male"?(a(),l("svg",q,[...t[4]||(t[4]=[e("path",{d:"M9 9c0-1.65 1.35-3 3-3s3 1.35 3 3-1.35 3-3 3-3-1.35-3-3zm0 8c0 1.93 2.69 3 6 3s6-1.07 6-3v-1H9v1z"},null,-1),e("path",{d:"M17.5 3h-3v1.5H16v1.59c-.74-.27-1.54-.43-2.38-.43C10.07 5.66 7 8.73 7 12.5S10.07 19.34 13.62 19.34c2.14 0 4.04-1.04 5.22-2.63l1.42 1.42 1.06-1.06-1.42-1.42C20.7 14.48 21 13.46 21 12.5c0-2.36-1.23-4.43-3.09-5.61V5.5h1.5V4h-1.91V3zm-3.88 14.84c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"},null,-1)])])):z("",!0),e("span",N,d(s.value.age),1)])]),e("div",T,[t[5]||(t[5]=e("h3",{class:"text-sm font-semibold text-gray-500 mb-3"},"关于我",-1)),e("p",A,d(s.value.bio),1)]),e("div",D,[t[6]||(t[6]=e("h3",{class:"text-sm font-semibold text-gray-500 mb-3"},"我的徒步偏好",-1)),e("div",E,[(a(!0),l(f,null,p(s.value.preferences,(c,r)=>(a(),l("span",{key:r,class:"px-4 py-2 bg-teal-50 text-teal-600 rounded-full text-sm font-medium"},d(c),1))),128))])]),e("div",F,[t[8]||(t[8]=e("h3",{class:"text-sm font-semibold text-gray-500 mb-3"},"生活相册",-1)),e("div",I,[(a(!0),l(f,null,p(s.value.photos,(c,r)=>(a(),l("div",{key:r,class:"aspect-square rounded-2xl overflow-hidden bg-gray-100"},[e("img",{src:c,alt:"photo-"+r,class:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"},null,8,J)]))),128)),e("div",{class:"aspect-square rounded-2xl overflow-hidden bg-gray-50 border-2 border-dashed border-gray-300 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-100 hover:border-teal-400 transition-all",onClick:b},[...t[7]||(t[7]=[e("svg",{class:"w-8 h-8 text-teal-400 mb-1",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"})],-1),e("span",{class:"text-xs text-teal-500 font-medium"},"添加照片",-1)])])])]),e("button",{onClick:x,class:"w-full py-4 bg-teal-500 text-white rounded-2xl font-semibold text-lg hover:bg-teal-600 transition-colors mb-4 shadow-sm"}," 编辑资料 "),e("button",{onClick:w,class:"w-full flex items-center justify-between bg-white rounded-2xl p-5 shadow-sm hover:shadow-md transition-shadow"},[...t[9]||(t[9]=[h('<div class="flex items-center gap-3" data-v-1f53e52d><div class="w-10 h-10 bg-teal-50 rounded-full flex items-center justify-center" data-v-1f53e52d><svg class="w-5 h-5 text-teal-600" fill="currentColor" viewBox="0 0 24 24" data-v-1f53e52d><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11v8.8z" data-v-1f53e52d></path></svg></div><span class="text-gray-800 font-medium" data-v-1f53e52d>隐私设置</span></div><svg class="w-5 h-5 text-gray-400" fill="currentColor" viewBox="0 0 24 24" data-v-1f53e52d><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z" data-v-1f53e52d></path></svg>',2)])])])]))}}),W=V(O,[["__scopeId","data-v-1f53e52d"]]);export{W as default};
