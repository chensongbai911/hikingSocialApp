# ✅ iOS 打包完整检查清单

**项目**: 徒步社交 App
**目标**: iOS 18.6.2
**完成日期**: 2026-02-12

---

## 🔍 打包前检查 (2 分钟)

### 环境检查

- [ ] 已安装 Node.js (v16+)
- [ ] 已安装 Xcode 14+ (macOS 用户)
- [ ] 已安装 CocoaPods (macOS 用户)
- [ ] 有效的 Apple Developer 账号
- [ ] 开发证书已导入 Keychain

### 代码检查

- [ ] 所有文件已保存
- [ ] 没有未跟踪的大文件
- [ ] 没有 console.log 调试语句
- [ ] 没有硬编码的 API 地址 (使用环境变量)
- [ ] 所有依赖已安装 (npm install)

### 配置检查

- [ ] `capacitor.config.json` 已创建
- [ ] `ExportOptions.plist` 已创建
- [ ] 后端服务正在运行 (npm run dev)
- [ ] API 地址正确配置
- [ ] WebSocket 地址正确配置

---

## 🚀 打包步骤检查 (10-15 分钟)

### Step 1: 构建前端

- [ ] 运行 `npm run build`
- [ ] 检查 `dist/` 目录已生成
- [ ] 检查没有 TypeScript 错误
- [ ] 检查构建大小 < 3MB

### Step 2: 初始化 Capacitor

- [ ] 运行 `npx cap add ios` (首次)
- [ ] 或 `npx cap sync ios` (更新)
- [ ] 检查 `ios/` 目录已生成
- [ ] 检查 `ios/App/App.xcworkspace` 存在

### Step 3: 打开 Xcode

- [ ] `npx cap open ios`
- [ ] Xcode 成功打开
- [ ] 项目结构正确加载
- [ ] 没有红色错误标记

### Step 4: 配置签名

- [ ] Team 已选择
- [ ] Bundle ID: `com.hikingsocial.app`
- [ ] 签名证书已选择
- [ ] 预配置文件已配置

### Step 5: 构建

- [ ] 选择目标设备或模拟器
- [ ] Product > Build (Cmd+B)
- [ ] 编译成功，没有错误
- [ ] 产物大小 < 100MB

### Step 6: 运行

- [ ] Product > Run (Cmd+R)
- [ ] App 在设备上启动
- [ ] 没有启动崩溃

---

## 🧪 功能测试检查 (30-60 分钟)

### A. 启动与认证 (5 项)

- [ ] 应用启动无崩溃
- [ ] 显示登录/注册页面
- [ ] 注册新账号成功
- [ ] 登录已有账号成功
- [ ] 首页加载时间 < 2 秒

### B. 页面导航 (4 项)

- [ ] 底部 5 个 Tab 都可点击
- [ ] 页面切换流畅
- [ ] 返回按钮正常工作
- [ ] 页面状态保留正确

### C. 用户功能 (4 项)

- [ ] 进入发现页面
- [ ] 显示推荐用户列表
- [ ] 点击用户卡片进入详情页
- [ ] 显示用户头像、昵称、简介

### D. 关注功能 (3 项)

- [ ] 点击"+ 关注"按钮
- [ ] 关注状态更新为"取消关注"
- [ ] 关注人数增加

### E. 私信功能 (4 项)

- [ ] 互关用户后出现"私信"按钮
- [ ] 点击私信进入消息页面
- [ ] 可以发送文本消息
- [ ] 发送的消息显示在聊天框

### F. 活动功能 (4 项)

- [ ] 进入活动列表页面
- [ ] 显示推荐活动卡片
- [ ] 点击活动进入详情
- [ ] 可以参加活动

### G. 用户资料 (4 项)

- [ ] 进入我的资料页面
- [ ] 显示用户头像和信息
- [ ] 可以编辑资料
- [ ] 编辑后显示更新

### H. 设备权限 (5 项)

- [ ] 请求地理定位权限
- [ ] 请求相机权限
- [ ] 请求相册权限
- [ ] 拍照并上传成功
- [ ] 从相册选择图片成功

### I. 网络与性能 (5 项)

- [ ] WiFi 下加载速度正常
- [ ] 蜂窝网络下可用
- [ ] 切换网络无崩溃
- [ ] 内存占用 < 500MB
- [ ] 没有内存泄漏 (操作 5 分钟)

### J. 错误处理 (4 项)

- [ ] 网络超时显示友好提示
- [ ] Token 过期自动刷新登录
- [ ] API 错误显示对应信息
- [ ] 输入错误显示验证提示

---

## 📊 性能测试检查

### 加载时间

- [ ] 冷启动: < 3 秒
- [ ] 热启动: < 1 秒
- [ ] 首屏显示: < 2 秒
- [ ] 页面切换: < 500ms

### API 响应

- [ ] 登录 API: < 2 秒
- [ ] 列表 API: < 1 秒
- [ ] 详情 API: < 1 秒
- [ ] 上传 API: < 3 秒

### 内存使用

- [ ] 初始内存: < 100MB
- [ ] 加载列表后: < 300MB
- [ ] 打开详情后: < 400MB
- [ ] 操作 10 分钟后: 无明显增长

### 网络

- [ ] WebSocket 连接正常
- [ ] 消息实时接收 (< 1 秒)
- [ ] 离线时不崩溃
- [ ] 重连后恢复正常

---

## 🔐 安全与隐私检查

### 数据保护

- [ ] Token 存储在安全位置 (Keychain)
- [ ] 敏感数据不输出到 console
- [ ] API 请求使用 HTTPS
- [ ] 没有硬编码密钥

### 权限管理

- [ ] 请求权限时显示友好说明
- [ ] 用户可以在设置中修改权限
- [ ] 缺少权限时友好降级

### 第三方库

- [ ] 所有库都来自官方源
- [ ] 没有使用过期库
- [ ] 没有已知安全漏洞

---

## 📱 iOS 特定检查

### UI 适配

- [ ] 应用全屏运行（刘海/动态岛）
- [ ] 文字大小合适 (不过小/过大)
- [ ] 按钮大小合适 (> 44x44 pt)
- [ ] 颜色对比度足够

### 触摸交互

- [ ] 所有按钮都有触感反馈
- [ ] 长按功能正常
- [ ] 轻扫手势正常
- [ ] 快速点击不导致重复操作

### 系统集成

- [ ] 支持深链接 (Deep Link)
- [ ] 支持分享 (Share Sheet)
- [ ] 支持手势返回
- [ ] 状态栏显示正确

### 电池与性能

- [ ] 空闲时不消耗电池
- [ ] 后台任务正确暂停
- [ ] CPU 使用率正常 (< 20%)
- [ ] 没有不必要的动画/刷新

---

## 🎬 录屏与截图检查

### 录屏

- [ ] 录制 App 使用流程 (30 秒)
- [ ] 检查流畅度 (60 fps)
- [ ] 检查没有卡顿或黑屏

### 截图

- [ ] 截图所有 5 个主要页面
- [ ] 截图用户交互成功状态
- [ ] 截图错误处理提示

---

## 📈 最终检查清单

### 代码质量

- [ ] 没有 TypeScript 错误
- [ ] 没有 ESLint 警告
- [ ] 没有 console.log
- [ ] 代码格式统一

### 文档完整性

- [ ] README 更新
- [ ] API 文档更新
- [ ] 更新日志 (CHANGELOG) 更新
- [ ] 已知问题文档更新

### 打包前最后检查

- [ ] 所有测试通过
- [ ] 所有性能指标达标
- [ ] 没有已知 crash
- [ ] 代码已提交到 Git

---

## 🎁 发布前准备

### 如果要上 TestFlight

- [ ] 生成 IPA 文件
- [ ] 上传到 App Store Connect
- [ ] 添加测试人员邮箱
- [ ] 测试人员完成测试

### 如果要上 App Store

- [ ] 更新版本号
- [ ] 创建发行说明
- [ ] 截图和预览已准备
- [ ] 关键字和类别已选择
- [ ] 隐私政策已准备
- [ ] 支持邮箱已配置

---

## ✅ 签署与确认

### 项目经理确认

- [ ] 功能需求全部完成
- [ ] 性能指标达到预期
- [ ] 安全隐私审查通过
- 签名: ********\_\_******** 日期: ****\_\_****

### QA 负责人确认

- [ ] 所有测试用例通过
- [ ] 没有阻塞性 Bug
- [ ] 用户体验满足要求
- 签名: ********\_\_******** 日期: ****\_\_****

### 开发负责人确认

- [ ] 代码质量达标
- [ ] 文档完整
- [ ] 可部署到生产环境
- 签名: ********\_\_******** 日期: ****\_\_****

---

## 📞 问题反馈与支持

### 如有问题，请参考

1. `iOS_QUICK_SUMMARY.md` - 执行摘要
2. `iOS_PACKAGING_QUICK_START.md` - 快速开始
3. `iOS_OPTIMIZATION_AND_PACKAGING_PLAN.md` - 完整方案
4. 项目 GitHub Issues

### 常见问题速查

- 编译错误 → 删除 node_modules，重新 npm install
- 签名错误 → 检查证书和配置文件
- 运行时崩溃 → 查看 Xcode console 日志
- 性能问题 → 使用 Xcode Profiler 分析

---

## 🎉 完成标志

当以下条件都满足时，表示打包完成：

✅ 所有检查项都勾选
✅ 所有测试都通过
✅ 所有性能指标达标
✅ 项目经理签署确认
✅ QA 负责人签署确认
✅ 开发负责人签署确认

**恭喜！应用已准备好发布！** 🚀

---

**最后更新**: 2026-02-12
**版本**: 1.0
**作者**: 徒步社交开发团队
