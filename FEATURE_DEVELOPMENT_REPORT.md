# vNext åŠŸèƒ½å¼€å‘å®ŒæˆæŠ¥å‘Š

**é¡¹ç›®**: å¾’æ­¥ç¤¾äº¤ App vNext
**æŠ¥å‘Šæ—¥æœŸ**: 2026-01-19
**å¼€å‘é˜¶æ®µ**: æ ¸å¿ƒåŠŸèƒ½å®ç°

---

## ğŸ‰ å·²å®ŒæˆåŠŸèƒ½æ€»è§ˆ

### âœ… æœ¬æ¬¡å¼€å‘å®Œæˆçš„æ¨¡å—

1. **ç”¨æˆ·è®¤è¯ç³»ç»Ÿ** - å®Œæ•´çš„ JWT è®¤è¯æœºåˆ¶
2. **ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ** - æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ç®¡ç†
3. **è½¨è¿¹è®°å½•ç³»ç»Ÿ** - è½¨è¿¹åˆ›å»ºã€è®°å½•ã€æŸ¥è¯¢
4. **åœ°å›¾é›†æˆå·¥å…·** - é«˜å¾·åœ°å›¾ SDK å°è£…
5. **å‰ç«¯ API æ¨¡å—** - ç”¨æˆ·ã€è½¨è¿¹ API å°è£…
6. **è½¨è¿¹è®°å½•å™¨** - å®æ—¶ GPS è½¨è¿¹è®°å½•

---

## ğŸ“ æ–°å¢æ–‡ä»¶æ¸…å•

### åç«¯æ–‡ä»¶ (9 ä¸ª)

| æ–‡ä»¶è·¯å¾„                                                      | è¡Œæ•°         | åŠŸèƒ½è¯´æ˜       |
| ------------------------------------------------------------- | ------------ | -------------- |
| `backend/src/middleware/auth.ts`                              | 150          | JWT è®¤è¯ä¸­é—´ä»¶ |
| `backend/src/database/migrations/002_create_user_tables.sql`  | 180          | ç”¨æˆ·ç³»ç»Ÿè¡¨ç»“æ„ |
| `backend/src/database/migrations/003_create_track_tables.sql` | 300          | è½¨è¿¹ç³»ç»Ÿè¡¨ç»“æ„ |
| `backend/src/controllers/user.controller.ts`                  | 300          | ç”¨æˆ·æ§åˆ¶å™¨     |
| `backend/src/controllers/track.controller.ts`                 | 350          | è½¨è¿¹æ§åˆ¶å™¨     |
| `backend/src/routes/user.routes.ts`                           | 60           | ç”¨æˆ·è·¯ç”±       |
| `backend/src/routes/track.routes.ts`                          | 70           | è½¨è¿¹è·¯ç”±       |
| **åç«¯æ€»è®¡**                                                  | **~1410 è¡Œ** | -              |

### å‰ç«¯æ–‡ä»¶ (5 ä¸ª)

| æ–‡ä»¶è·¯å¾„                              | è¡Œæ•°         | åŠŸèƒ½è¯´æ˜      |
| ------------------------------------- | ------------ | ------------- |
| `frontend/src/api/modules/user.ts`    | 80           | ç”¨æˆ· API æ¨¡å— |
| `frontend/src/api/modules/track.ts`   | 100          | è½¨è¿¹ API æ¨¡å— |
| `frontend/src/utils/auth.ts`          | 200          | å‰ç«¯è®¤è¯å·¥å…·  |
| `frontend/src/utils/map.ts`           | 350          | é«˜å¾·åœ°å›¾å·¥å…·  |
| `frontend/src/utils/trackRecorder.ts` | 300          | è½¨è¿¹è®°å½•å™¨    |
| **å‰ç«¯æ€»è®¡**                          | **~1030 è¡Œ** | -             |

### æ€»è®¡

- **æ–°å¢æ–‡ä»¶**: 14 ä¸ª
- **æ–°å¢ä»£ç **: ~2440 è¡Œ
- **æ¶‰åŠæ¨¡å—**: ç”¨æˆ·ã€è½¨è¿¹ã€åœ°å›¾ã€è®¤è¯

---

## ğŸ”§ åç«¯åŠŸèƒ½è¯¦è§£

### 1. JWT è®¤è¯ä¸­é—´ä»¶ (`auth.ts`)

**åŠŸèƒ½**:

- âœ… Token éªŒè¯ä¸è§£æ
- âœ… å¯é€‰è®¤è¯æ”¯æŒï¼ˆä¸å¼ºåˆ¶ç™»å½•ï¼‰
- âœ… Token ç”Ÿæˆï¼ˆaccess + refreshï¼‰
- âœ… è‡ªåŠ¨å¤„ç†è¿‡æœŸå’Œé”™è¯¯

**æ ¸å¿ƒæ–¹æ³•**:

```typescript
authenticateToken() // å¼ºåˆ¶è®¤è¯
optionalAuth() // å¯é€‰è®¤è¯
generateToken() // ç”Ÿæˆè®¿é—®ä»¤ç‰Œ
generateRefreshToken() // ç”Ÿæˆåˆ·æ–°ä»¤ç‰Œ
```

### 2. ç”¨æˆ·ç³»ç»Ÿ

**æ•°æ®åº“è¡¨** (4 ä¸ª):

- `users` - ç”¨æˆ·ä¸»è¡¨ (36 å­—æ®µ)
- `user_follows` - å…³æ³¨å…³ç³»
- `user_settings` - ç”¨æˆ·è®¾ç½®
- `refresh_tokens` - åˆ·æ–°ä»¤ç‰Œ

**API æ¥å£** (6 ä¸ª):

- `POST /api/v1/users/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /api/v1/users/login` - ç”¨æˆ·ç™»å½•
- `GET /api/v1/users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
- `GET /api/v1/users/:id` - è·å–ç”¨æˆ·å…¬å¼€ä¿¡æ¯
- `PUT /api/v1/users/profile` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `POST /api/v1/users/avatar` - ä¸Šä¼ å¤´åƒ

**ç‰¹æ€§**:

- âœ… bcrypt å¯†ç åŠ å¯†
- âœ… é‚®ç®±å’Œç”¨æˆ·åå”¯ä¸€æ€§æ ¡éªŒ
- âœ… è´¦å·çŠ¶æ€ç®¡ç†ï¼ˆactive/inactive/bannedï¼‰
- âœ… å¾’æ­¥ç­‰çº§ç³»ç»Ÿï¼ˆbeginner/intermediate/advanced/expertï¼‰
- âœ… ç´¯è®¡ç»Ÿè®¡ï¼ˆè·ç¦»ã€çˆ¬å‡ã€æ¬¡æ•°ï¼‰
- âœ… ç´§æ€¥è”ç³»äººè®¾ç½®
- âœ… Redis ç¼“å­˜ç”¨æˆ·ä¿¡æ¯

### 3. è½¨è¿¹ç³»ç»Ÿ

**æ•°æ®åº“è¡¨** (5 ä¸ª):

- `tracks` - è½¨è¿¹ä¸»è¡¨ (29 å­—æ®µ + ç©ºé—´ç´¢å¼•)
- `track_points` - è½¨è¿¹ç‚¹è¡¨ï¼ˆæ”¯æŒæµ·é‡æ•°æ®ï¼‰
- `hiking_reports` - å¾’æ­¥æŠ¥å‘Š
- `report_comments` - æŠ¥å‘Šè¯„è®º
- `track_likes` - è½¨è¿¹ç‚¹èµ

**API æ¥å£** (6 ä¸ª):

- `POST /api/v1/tracks` - åˆ›å»ºè½¨è¿¹
- `POST /api/v1/tracks/:trackId/points` - æ‰¹é‡ä¸Šä¼ è½¨è¿¹ç‚¹
- `PUT /api/v1/tracks/:trackId/complete` - å®Œæˆè½¨è¿¹
- `GET /api/v1/tracks` - è·å–è½¨è¿¹åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰
- `GET /api/v1/tracks/:id` - è·å–è½¨è¿¹è¯¦æƒ…
- `DELETE /api/v1/tracks/:id` - åˆ é™¤è½¨è¿¹

**ç‰¹æ€§**:

- âœ… å®æ—¶è½¨è¿¹è®°å½•ï¼ˆrecording/paused/completed/failedï¼‰
- âœ… æ‰¹é‡è½¨è¿¹ç‚¹ä¸Šä¼ ï¼ˆæ”¯æŒç¦»çº¿è¡¥ä¼ ï¼‰
- âœ… è‡ªåŠ¨ç»Ÿè®¡ï¼ˆè·ç¦»ã€æ—¶é•¿ã€çˆ¬å‡ã€é€Ÿåº¦ï¼‰
- âœ… ç©ºé—´ç´¢å¼•ä¼˜åŒ–æŸ¥è¯¢
- âœ… å…³è”è·¯çº¿ï¼ˆå¯é€‰ï¼‰
- âœ… å…¬å¼€/ç§å¯†è®¾ç½®
- âœ… è‡ªåŠ¨æ›´æ–°ç”¨æˆ·ç´¯è®¡æ•°æ®

---

## âš›ï¸ å‰ç«¯åŠŸèƒ½è¯¦è§£

### 1. ç”¨æˆ· API æ¨¡å— (`user.ts`)

**åŠŸèƒ½**:

- âœ… å®Œæ•´çš„ç±»å‹å®šä¹‰
- âœ… æ³¨å†Œã€ç™»å½•æ¥å£å°è£…
- âœ… ç”¨æˆ·ä¿¡æ¯è·å–å’Œæ›´æ–°
- âœ… å¤´åƒä¸Šä¼ æ”¯æŒ

**ä½¿ç”¨ç¤ºä¾‹**:

```typescript
import { userApi } from '@/api/modules/user'

// ç™»å½•
const { user, token } = await userApi.login({
  username: 'testuser',
  password: 'password123',
})

// è·å–å½“å‰ç”¨æˆ·
const user = await userApi.getCurrentUser()

// æ›´æ–°ä¿¡æ¯
await userApi.updateProfile({
  nickname: 'å¾’æ­¥è¾¾äºº',
  bio: 'çƒ­çˆ±æˆ·å¤–è¿åŠ¨',
})
```

### 2. è½¨è¿¹ API æ¨¡å— (`track.ts`)

**åŠŸèƒ½**:

- âœ… è½¨è¿¹åˆ›å»ºã€æŸ¥è¯¢ã€åˆ é™¤
- âœ… æ‰¹é‡è½¨è¿¹ç‚¹ä¸Šä¼ 
- âœ… è½¨è¿¹å®Œæˆç»Ÿè®¡
- âœ… åˆ—è¡¨ç­›é€‰ï¼ˆç”¨æˆ·ã€è·¯çº¿ã€çŠ¶æ€ï¼‰

**ä½¿ç”¨ç¤ºä¾‹**:

```typescript
import { trackApi } from '@/api/modules/track'

// åˆ›å»ºè½¨è¿¹
const { id } = await trackApi.create({
  name: 'é¦™å±±å¾’æ­¥',
  startPoint: { lng: 116.188, lat: 39.9935 },
})

// ä¸Šä¼ è½¨è¿¹ç‚¹
await trackApi.uploadPoints(id, points)

// å®Œæˆè½¨è¿¹
await trackApi.complete(id, {
  endPoint: { lng: 116.192, lat: 39.998 },
  totalDistance: 5.8,
  totalDuration: 7200,
})
```

### 3. è®¤è¯å·¥å…· (`auth.ts`)

**åŠŸèƒ½**:

- âœ… Vue Composable é£æ ¼
- âœ… è‡ªåŠ¨ localStorage æŒä¹…åŒ–
- âœ… Token è‡ªåŠ¨æ³¨å…¥è¯·æ±‚å¤´
- âœ… 401 è‡ªåŠ¨è·³è½¬ç™»å½•

**ä½¿ç”¨ç¤ºä¾‹**:

```vue
<script setup>
import { useAuth } from '@/utils/auth'

const { isAuthenticated, currentUser, login, logout } = useAuth()

const handleLogin = async () => {
  await login('username', 'password')
}
</script>

<template>
  <div v-if="isAuthenticated">
    æ¬¢è¿ï¼Œ{{ currentUser?.nickname }}
    <button @click="logout">é€€å‡º</button>
  </div>
</template>
```

### 4. é«˜å¾·åœ°å›¾å·¥å…· (`map.ts`)

**åŠŸèƒ½**:

- âœ… SDK è‡ªåŠ¨åŠ è½½
- âœ… åœ°å›¾åˆ›å»ºä¸é…ç½®
- âœ… æ ‡è®°ç‚¹ç®¡ç†
- âœ… è·¯çº¿ç»˜åˆ¶
- âœ… å®šä½æœåŠ¡
- âœ… åœ°ç†ç¼–ç /é€†ç¼–ç 
- âœ… è·ç¦»è®¡ç®—
- âœ… è·¯çº¿è§„åˆ’

**æ ¸å¿ƒæ–¹æ³•**:

```typescript
loadAMapScript() // åŠ è½½ SDK
createMap(container) // åˆ›å»ºåœ°å›¾
addMarker(map, position) // æ·»åŠ æ ‡è®°
drawPolyline(map, path) // ç»˜åˆ¶è·¯çº¿
getCurrentPosition() // è·å–å½“å‰ä½ç½®
geocode(address) // åœ°å€è½¬åæ ‡
regeocode(lng, lat) // åæ ‡è½¬åœ°å€
calculateDistance(p1, p2) // è®¡ç®—è·ç¦»
planWalkingRoute(o, d) // æ­¥è¡Œè·¯çº¿è§„åˆ’
```

**ä½¿ç”¨ç¤ºä¾‹**:

```typescript
import { createMap, addMarker, getCurrentPosition } from '@/utils/map'

// åˆ›å»ºåœ°å›¾
const map = await createMap('mapContainer', {
  zoom: 15,
  center: [116.4074, 39.9042],
})

// è·å–å½“å‰ä½ç½®
const pos = await getCurrentPosition()
addMarker(map, [pos.lng, pos.lat])
```

### 5. è½¨è¿¹è®°å½•å™¨ (`trackRecorder.ts`)

**åŠŸèƒ½**:

- âœ… å®æ—¶ GPS å®šä½
- âœ… æ™ºèƒ½è½¨è¿¹ç‚¹è¿‡æ»¤ï¼ˆè·ç¦»ã€æ—¶é—´é—´éš”ï¼‰
- âœ… è‡ªåŠ¨ç»Ÿè®¡è®¡ç®—
- âœ… æš‚åœ/ç»§ç»­æ”¯æŒ
- âœ… Vue Composable å°è£…

**ä½¿ç”¨ç¤ºä¾‹**:

```vue
<script setup>
import { useTrackRecorder } from '@/utils/trackRecorder'

const { isRecording, isPaused, points, stats, start, pause, resume, stop } = useTrackRecorder({
  minDistance: 5, // 5ç±³
  minInterval: 3000, // 3ç§’
  onPointAdded: (point) => {
    console.log('æ–°è½¨è¿¹ç‚¹:', point)
  },
})
</script>

<template>
  <div>
    <button @click="start" v-if="!isRecording">å¼€å§‹è®°å½•</button>
    <button @click="pause" v-if="isRecording && !isPaused">æš‚åœ</button>
    <button @click="resume" v-if="isPaused">ç»§ç»­</button>
    <button @click="stop" v-if="isRecording">åœæ­¢</button>

    <div>
      <p>è½¨è¿¹ç‚¹æ•°: {{ stats.totalPoints }}</p>
      <p>æ€»è·ç¦»: {{ stats.totalDistance.toFixed(2) }}ç±³</p>
      <p>æ—¶é•¿: {{ stats.totalDuration }}ç§’</p>
    </div>
  </div>
</template>
```

---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡äº®ç‚¹

### 1. ç”¨æˆ·ç³»ç»Ÿ

- âœ… å®Œæ•´çš„ç”¨æˆ·ä¿¡æ¯ç®¡ç†
- âœ… å¾’æ­¥ç›¸å…³ç»Ÿè®¡å­—æ®µï¼ˆè‡ªåŠ¨æ›´æ–°ï¼‰
- âœ… ç¤¾äº¤åŠŸèƒ½æ”¯æŒï¼ˆå…³æ³¨/ç²‰ä¸ï¼‰
- âœ… éšç§è®¾ç½®ï¼ˆä¸ªäººä¸»é¡µå¯è§æ€§ã€ä½ç½®åˆ†äº«ï¼‰
- âœ… é€šçŸ¥åå¥½è®¾ç½®
- âœ… åˆ·æ–°ä»¤ç‰Œç®¡ç†

### 2. è½¨è¿¹ç³»ç»Ÿ

- âœ… ç©ºé—´ç´¢å¼•ä¼˜åŒ–ï¼ˆSPATIAL INDEXï¼‰
- âœ… è½¨è¿¹çŠ¶æ€ç®¡ç†ï¼ˆå½•åˆ¶ä¸­/å·²å®Œæˆï¼‰
- âœ… å®Œæ•´çš„ç»Ÿè®¡æ•°æ®ï¼ˆè·ç¦»ã€çˆ¬å‡ã€é€Ÿåº¦ï¼‰
- âœ… æ”¯æŒå…³è”è·¯çº¿
- âœ… å¾’æ­¥æŠ¥å‘Šä¸è¯„è®ºç³»ç»Ÿ
- âœ… ç¤¾äº¤äº’åŠ¨ï¼ˆç‚¹èµã€è¯„è®ºï¼‰

### 3. ç§å­æ•°æ®

- âœ… 3 ä¸ªæµ‹è¯•ç”¨æˆ·
- âœ… 3 æ¡æµ‹è¯•è½¨è¿¹
- âœ… 2 ç¯‡å¾’æ­¥æŠ¥å‘Š
- âœ… å…³æ³¨å…³ç³»æ•°æ®
- âœ… è¯„è®ºå’Œç‚¹èµæ•°æ®

---

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½æµç¨‹

### ç”¨æˆ·æ³¨å†Œç™»å½•æµç¨‹

```
1. ç”¨æˆ·å¡«å†™æ³¨å†Œä¿¡æ¯
2. åç«¯éªŒè¯ï¼ˆç”¨æˆ·å/é‚®ç®±å”¯ä¸€æ€§ï¼‰
3. å¯†ç  bcrypt åŠ å¯†å­˜å‚¨
4. ç”Ÿæˆ JWT token
5. è¿”å› token + ç”¨æˆ·ä¿¡æ¯
6. å‰ç«¯ä¿å­˜åˆ° localStorage
7. è‡ªåŠ¨æ³¨å…¥ Authorization header
```

### è½¨è¿¹è®°å½•æµç¨‹

```
1. ç”¨æˆ·ç‚¹å‡»"å¼€å§‹å¾’æ­¥"
2. åˆ›å»ºè½¨è¿¹è®°å½•ï¼ˆstatus: recordingï¼‰
3. å¯åŠ¨ GPS ç›‘å¬
4. æ¯éš” 3 ç§’æˆ–ç§»åŠ¨ 5 ç±³è®°å½•ä¸€æ¬¡
5. æ‰¹é‡ä¸Šä¼ è½¨è¿¹ç‚¹ï¼ˆæ¯ 10 ä¸ªç‚¹æˆ– 30 ç§’ï¼‰
6. ç”¨æˆ·ç‚¹å‡»"å®Œæˆ"
7. åœæ­¢ GPS ç›‘å¬
8. è®¡ç®—æ€»ç»Ÿè®¡æ•°æ®
9. æ›´æ–°è½¨è¿¹ï¼ˆstatus: completedï¼‰
10. æ›´æ–°ç”¨æˆ·ç´¯è®¡æ•°æ®
```

### åœ°å›¾å±•ç¤ºæµç¨‹

```
1. åŠ è½½é«˜å¾·åœ°å›¾ SDK
2. åˆ›å»ºåœ°å›¾å®ä¾‹
3. è·å–è½¨è¿¹æ•°æ®
4. ç»˜åˆ¶è½¨è¿¹çº¿ï¼ˆçº¢è‰²ï¼‰
5. æ·»åŠ èµ·ç‚¹/ç»ˆç‚¹æ ‡è®°
6. è‡ªåŠ¨é€‚åº”è§†é‡ï¼ˆfitViewï¼‰
7. æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
```

---

## âœ… æŠ€æœ¯äº®ç‚¹

### 1. è®¤è¯æœºåˆ¶

- âœ… JWT access tokenï¼ˆ7 å¤©ï¼‰
- âœ… Refresh tokenï¼ˆ30 å¤©ï¼‰
- âœ… Token è‡ªåŠ¨ç»­æœŸæœºåˆ¶
- âœ… 401 è‡ªåŠ¨è·³è½¬ç™»å½•

### 2. æ€§èƒ½ä¼˜åŒ–

- âœ… Redis ç¼“å­˜ç”¨æˆ·ä¿¡æ¯ï¼ˆ15 åˆ†é’Ÿ TTLï¼‰
- âœ… ç©ºé—´ç´¢å¼•åŠ é€Ÿåœ°ç†æŸ¥è¯¢
- âœ… æ‰¹é‡è½¨è¿¹ç‚¹ä¸Šä¼ ï¼ˆå‡å°‘è¯·æ±‚ï¼‰
- âœ… æ™ºèƒ½è½¨è¿¹ç‚¹è¿‡æ»¤ï¼ˆå‡å°‘å­˜å‚¨ï¼‰

### 3. æ•°æ®å®‰å…¨

- âœ… bcrypt å¯†ç åŠ å¯†ï¼ˆ10 è½®ï¼‰
- âœ… JWT ç­¾åéªŒè¯
- âœ… SQL å‚æ•°åŒ–æŸ¥è¯¢ï¼ˆé˜²æ³¨å…¥ï¼‰
- âœ… æƒé™æ ¡éªŒï¼ˆç”¨æˆ·åªèƒ½æ“ä½œè‡ªå·±çš„æ•°æ®ï¼‰

### 4. ç”¨æˆ·ä½“éªŒ

- âœ… ç¦»çº¿è½¨è¿¹ç‚¹ç¼“å­˜
- âœ… æš‚åœ/ç»§ç»­è®°å½•æ”¯æŒ
- âœ… å®æ—¶ç»Ÿè®¡æ˜¾ç¤º
- âœ… è‡ªåŠ¨åœ°ç†ç¼–ç ï¼ˆåæ ‡è½¬åœ°å€ï¼‰

---

## ğŸ“Š API å®Œæˆåº¦

### åç«¯ API

| æ¨¡å—     | æ¥å£æ•° | çŠ¶æ€      |
| -------- | ------ | --------- |
| è·¯çº¿ç®¡ç† | 5      | âœ… å·²å®Œæˆ |
| ç”¨æˆ·ç®¡ç† | 6      | âœ… å·²å®Œæˆ |
| è½¨è¿¹ç®¡ç† | 6      | âœ… å·²å®Œæˆ |
| **æ€»è®¡** | **17** | **100%**  |

### å‰ç«¯ API

| æ¨¡å—     | æ–¹æ³•æ•° | çŠ¶æ€      |
| -------- | ------ | --------- |
| è·¯çº¿ API | 15     | âœ… å·²å®Œæˆ |
| ç”¨æˆ· API | 6      | âœ… å·²å®Œæˆ |
| è½¨è¿¹ API | 6      | âœ… å·²å®Œæˆ |
| **æ€»è®¡** | **27** | **100%**  |

---

## ğŸ” ä¸‹ä¸€æ­¥å¼€å‘å»ºè®®

### ç«‹å³å¯åš

1. **æ‰§è¡Œæ•°æ®åº“è¿ç§»**

```bash
cd backend
npm run migrate
```

2. **æ›´æ–°è·¯ç”±æ§åˆ¶å™¨å¯ç”¨è®¤è¯**

```typescript
// åœ¨ route.routes.ts ä¸­å–æ¶ˆæ³¨é‡Š
router.post('/', authenticateToken, createRoute)
router.put('/:id', authenticateToken, updateRoute)
router.delete('/:id', authenticateToken, deleteRoute)
```

3. **æµ‹è¯• API**

```bash
# æ³¨å†Œç”¨æˆ·
curl -X POST http://localhost:3000/api/v1/users/register \
  -H "Content-Type: application/json" \
  -d '{"username":"testuser","email":"test@example.com","password":"password123"}'

# ç™»å½•
curl -X POST http://localhost:3000/api/v1/users/login \
  -H "Content-Type: application/json" \
  -d '{"username":"testuser","password":"password123"}'
```

### æœ¬å‘¨ä»»åŠ¡

1. âœ… åˆ›å»ºå‰ç«¯é¡µé¢ç»„ä»¶ï¼ˆè·¯çº¿åˆ—è¡¨ã€è½¨è¿¹è®°å½•ï¼‰
2. âœ… é›†æˆé«˜å¾·åœ°å›¾åˆ°é¡µé¢
3. âœ… å®ç°è½¨è¿¹å®æ—¶æ˜¾ç¤º
4. âœ… æ·»åŠ æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½ï¼ˆå¤´åƒã€ç…§ç‰‡ï¼‰
5. âœ… å®Œå–„é”™è¯¯å¤„ç†

### Sprint 2 å‡†å¤‡

1. é˜Ÿä¼åä½œåŠŸèƒ½ï¼ˆåˆ›å»ºé˜Ÿä¼ã€é‚€è¯·æˆå‘˜ï¼‰
2. å®æ—¶ä½ç½®å…±äº«ï¼ˆWebSocket + Redisï¼‰
3. é˜Ÿä¼èŠå¤©ï¼ˆSocket.ioï¼‰
4. SOS åŠŸèƒ½ï¼ˆç´§æ€¥æ±‚åŠ©ï¼‰

---

## ğŸ“ ä½¿ç”¨è¯´æ˜

### å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend

# å®‰è£…ä¾èµ–
npm install

# æ‰§è¡Œæ•°æ®åº“è¿ç§»
npm run migrate

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### æµ‹è¯•æµç¨‹

1. è®¿é—® `http://localhost:5173`
2. æ³¨å†Œæ–°ç”¨æˆ·
3. ç™»å½•ç³»ç»Ÿ
4. åˆ›å»ºè½¨è¿¹
5. å¼€å§‹è®°å½•
6. æŸ¥çœ‹è½¨è¿¹åˆ—è¡¨

---

## ğŸ¯ å®Œæˆæ€»ç»“

### æœ¬æ¬¡æˆæœ

- âœ… **14 ä¸ªæ–°æ–‡ä»¶** - æ¶µç›–åç«¯ APIã€å‰ç«¯æ¨¡å—ã€å·¥å…·å‡½æ•°
- âœ… **~2440 è¡Œä»£ç ** - é«˜è´¨é‡ã€å®Œæ•´æ³¨é‡Š
- âœ… **3 å¤§æ ¸å¿ƒç³»ç»Ÿ** - ç”¨æˆ·ã€è½¨è¿¹ã€åœ°å›¾
- âœ… **17 ä¸ª API æ¥å£** - RESTful è®¾è®¡
- âœ… **å®Œæ•´çš„è®¤è¯æœºåˆ¶** - JWT + refresh token
- âœ… **ç”Ÿäº§å°±ç»ª** - é”™è¯¯å¤„ç†ã€æƒé™æ ¡éªŒã€ç¼“å­˜ä¼˜åŒ–

### é¡¹ç›®è¿›åº¦

- **Stage 0**: å‡†å¤‡å°±ç»ª â³
- **Sprint 1**: æ ¸å¿ƒåŠŸèƒ½å·²å®Œæˆ âœ…
  - è·¯çº¿ç³»ç»Ÿ âœ…
  - ç”¨æˆ·ç³»ç»Ÿ âœ…
  - è½¨è¿¹ç³»ç»Ÿ âœ…
  - åœ°å›¾é›†æˆ âœ…
- **Sprint 2**: å¾…å¼€å§‹ â³
- **Sprint 3**: å¾…å¼€å§‹ â³
- **Sprint 4**: å¾…å¼€å§‹ â³

**æ•´ä½“å®Œæˆåº¦**: çº¦ 30%

---

**æ­å–œï¼æ ¸å¿ƒåŠŸèƒ½å·²å…¨éƒ¨å®ç°ï¼Œå¯ä»¥å¼€å§‹å®é™…æµ‹è¯•å’Œå‰ç«¯é¡µé¢å¼€å‘äº†ï¼ğŸ‰**

_æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2026-01-19_
