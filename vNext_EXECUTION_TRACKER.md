# vNext 执行跟踪看板

**创建日期**: 2026-01-19
**项目状态**: 🟡 准备启动
**当前阶段**: 阶段 0 - 代码质量优化

---

## 🎯 快速导航

- [当前任务](#当前任务)
- [阶段进度](#阶段进度)
- [团队分工](#团队分工)
- [阻塞问题](#阻塞问题)
- [本周计划](#本周计划)

---

## 📊 总体进度

```
项目进度: ████░░░░░░░░░░░░░░░░ 20%
```

| 阶段               | 状态      | 进度 | 预计完成 | 实际完成 |
| ------------------ | --------- | ---- | -------- | -------- |
| 阶段 0: 代码优化   | 🟢 进行中 | 60%  | Week 2   | -        |
| Sprint 1: 路线系统 | ⚪ 未开始 | 0%   | Week 5   | -        |
| Sprint 2: 轨迹记录 | ⚪ 未开始 | 0%   | Week 8   | -        |
| Sprint 3: 队伍协同 | ⚪ 未开始 | 0%   | Week 10  | -        |
| Sprint 4: 安全闭环 | ⚪ 未开始 | 0%   | Week 14  | -        |

---

## 🔥 当前任务

### 本周重点 (Week 1: 2026-01-19 ~ 01-25)

#### 🎯 阶段 0: 代码质量优化

##### ✅ 已完成

- [x] **T0.0** 任务拆分计划创建
  - 完成时间: 2026-01-19
  - 负责人: AI Assistant
  - 交付物: `vNext_TASK_BREAKDOWN.md`

- [x] **T0.6** 前端 UI 功能实现
  - 完成时间: 2026-01-19
  - 负责人: 前端团队
  - 交付物: HikingMode.vue, HikingReport.vue, RouteCreator.vue, OfflineMap.vue

##### 🟡 进行中

- [ ] **T0.1** 启用 TypeScript strict 模式 (4 人天)
  - 负责人: 后端 Senior
  - 进度: 0%
  - 预计完成: 2026-01-23
  - **下一步行动**:
    - [ ] 在 `backend/tsconfig.json` 启用 `strict: true`
    - [ ] 运行 `npm run build` 收集错误列表
    - [ ] 修复 `src/types/*` 类型定义
    - [ ] 修复 `src/middleware/*`
    - [ ] 修复 `src/services/*`

- [ ] **T0.2** 统一 API 响应格式 (2 人天)
  - 负责人: 后端 Mid
  - 进度: 0%
  - 预计完成: 2026-01-22
  - **下一步行动**:
    - [ ] 创建 `backend/src/utils/apiResponse.ts`
    - [ ] 定义响应接口类型
    - [ ] 改造 MessageController (示范)
    - [ ] 更新所有 controller

- [ ] **T0.3** 清理 console.log (1 人天)
  - 负责人: 后端 Junior / 前端 Junior
  - 进度: 0%
  - 预计完成: 2026-01-21
  - **下一步行动**:
    - [ ] 后端: `grep -r "console\\.log" backend/src > console-list.txt`
    - [ ] 前端: `grep -r "console\\.log" frontend/src > console-list-fe.txt`
    - [ ] 审核每个 console 是否需要保留
    - [ ] 迁移到 logger / 删除
    - [ ] 添加 ESLint rule: `no-console`

- [ ] **T0.5** 前端 API 数据层重构 (5 人天)
  - 负责人: 前端 Senior
  - 进度: 0%
  - 预计完成: 2026-01-24
  - **下一步行动**:
    - [ ] 创建 `frontend/src/api/base/apiService.ts`
    - [ ] 创建 `frontend/src/api/hooks/useApiRequest.ts`
    - [ ] 创建 `frontend/src/api/base/types.ts`
    - [ ] 改造 `message.ts` 为示范案例

##### ⚪ 待开始

- [ ] **T0.4** Socket.io 安全加固 (1 人天)
  - 负责人: 后端 Senior
  - 预计开始: 2026-01-22

---

## 📅 阶段进度详情

### 阶段 0: 代码质量优化 (Week 1-2)

**目标**: 提升代码质量基线，为 vNext 开发做准备

**总任务**: 6 个
**已完成**: 2 个 (33%)
**进行中**: 4 个 (67%)
**待开始**: 0 个

**关键指标**:

- TypeScript strict 模式启用率: 0% → 100%
- console.log 清理率: 0% → 100%
- API 响应格式统一率: 0% → 100%

**本周交付物**:

- [ ] `backend/src/utils/apiResponse.ts` (统一响应工具)
- [ ] `frontend/src/api/base/apiService.ts` (API 服务层)
- [ ] `frontend/src/api/hooks/useApiRequest.ts` (请求 Hook)
- [ ] ESLint 配置更新 (禁止 console)
- [ ] TypeScript 编译零错误

---

### Sprint 1: 路线系统 + 基础设施 (Week 3-5)

**状态**: ⚪ 未开始
**预计开始**: 2026-01-26

**准备工作检查清单**:

- [ ] 数据库设计评审完成
- [ ] 高德地图 API Key 申请完成
- [ ] UI 设计稿交付 (路线列表/详情/创建)
- [ ] 前端数据层架构重构完成 (依赖 T0.5)

**关键里程碑**:

- Day 1-3: 数据库表设计 + 迁移脚本
- Day 4-11: 路线 API 开发
- Day 12-21: 前端页面开发 + 地图集成

---

### Sprint 2: 轨迹记录 + 复盘报告 (Week 6-8)

**状态**: ⚪ 未开始
**预计开始**: 2026-02-16

**准备工作检查清单**:

- [ ] Sprint 1 验收通过
- [ ] 轨迹表分区策略确认
- [ ] IndexedDB 方案设计完成
- [ ] UI 设计稿交付 (行进模式/复盘页)

---

### Sprint 3: 队伍协同 + 实时通信 (Week 9-10)

**状态**: ⚪ 未开始
**预计开始**: 2026-03-09

**准备工作检查清单**:

- [ ] Sprint 2 验收通过
- [ ] Socket.io 性能测试完成
- [ ] Redis 实时数据方案确认
- [ ] UI 设计稿交付 (队伍成员卡片)

---

### Sprint 4: 安全闭环 + 生产优化 (Week 11-14)

**状态**: ⚪ 未开始
**预计开始**: 2026-03-23

**准备工作检查清单**:

- [ ] Sprint 3 验收通过
- [ ] 和风天气 API Key 申请完成
- [ ] 推送服务配置完成 (APNs/FCM)
- [ ] UI 设计稿交付 (SOS/安全设置)

---

## 👥 团队分工

### 后端团队

#### 后端 Senior 1

**当前任务**: T0.1 TypeScript strict 模式启用

- 本周工作量: 4 人天
- 下周计划: T1.1 数据库设计 + T1.2 路线 API

#### 后端 Senior 2

**当前任务**: 待分配 (T0.4 Socket.io 安全加固)

- 本周工作量: 1 人天
- 下周计划: T1.2 路线 API (并行开发)

#### 后端 Mid 1

**当前任务**: T0.2 统一 API 响应格式

- 本周工作量: 2 人天
- 下周计划: T1.3 关键点管理 API

#### 后端 Mid 2

**当前任务**: 待分配

- 本周工作量: 0 人天
- 下周计划: T1.4 路线搜索与过滤

#### 后端 Junior (可选)

**当前任务**: T0.3 清理 console.log (后端部分)

- 本周工作量: 0.5 人天
- 下周计划: T1.1 数据库脚本辅助

---

### 前端团队

#### 前端 Senior 1

**当前任务**: T0.5 前端 API 数据层重构

- 本周工作量: 5 人天
- 下周计划: T1.5 API 层重构 + T1.8 路线创建表单

#### 前端 Senior 2

**当前任务**: 待分配

- 本周工作量: 0 人天
- 下周计划: T1.9 高德地图 SDK 集成

#### 前端 Mid 1

**当前任务**: 待分配

- 本周工作量: 0 人天
- 下周计划: T1.6 路线列表页

#### 前端 Mid 2

**当前任务**: 待分配

- 本周工作量: 0 人天
- 下周计划: T1.7 路线详情页

#### 前端 Junior (可选)

**当前任务**: T0.3 清理 console.log (前端部分)

- 本周工作量: 1.5 人天
- 下周计划: UI 调整辅助

---

### 设计团队

#### UI/UX 设计师

**当前任务**: Sprint 1 设计稿准备

- 本周交付:
  - [ ] 路线列表页 (Wireframe + 高保真)
  - [ ] 路线详情页 (Wireframe + 高保真)
  - [ ] 路线创建表单 (3 步流程设计)
- 下周交付:
  - [ ] 关键点时间线样式
  - [ ] 地图标记 icon 设计
  - [ ] 组件库规范文档

---

### QA 团队

#### QA Engineer

**当前任务**: 测试计划准备

- 本周工作:
  - [ ] 制定 Sprint 1-4 测试计划
  - [ ] 准备自动化测试框架
  - [ ] 设计性能测试脚本
- 下周工作:
  - [ ] Sprint 1 功能测试用例编写
  - [ ] 集成测试环境搭建

---

## 🚨 阻塞问题

### 🔴 高优先级阻塞

#### P0-001: 产品决策未确认

- **问题**: 3 大关键决策尚未确认
  1. 路线数据来源 (平台精选 vs UGC vs GPX 导入)
  2. 地图方案 (高德 AMap vs Leaflet)
  3. SOS 外联方案 (站内 vs 短信 vs 救援服务)
- **影响**: 数据库设计、API 设计、UI 设计
- **负责人**: PM / 产品负责人
- **期望时间**: 2026-01-22 之前
- **缓解措施**: 按推荐方案先行设计，后续可调整

#### P0-002: 高德地图 API Key 未申请

- **问题**: 地图集成需要 API Key
- **影响**: T1.9 高德地图 SDK 集成无法开始
- **负责人**: 技术负责人
- **期望时间**: 2026-01-23 之前
- **缓解措施**: 先用占位组件，后续替换

---

### 🟡 中优先级风险

#### P1-001: Redis 生产环境未确认

- **问题**: 不确定生产环境是否有 Redis
- **影响**: 缓存策略实施
- **负责人**: 运维团队
- **期望时间**: 2026-01-26 之前
- **缓解措施**: 先基于内存缓存开发，后续迁移

#### P1-002: 推送服务未配置

- **问题**: APNs/FCM 证书未配置
- **影响**: Sprint 4 通知功能
- **负责人**: 移动端负责人
- **期望时间**: 2026-03-20 之前
- **缓解措施**: 先用 Socket.io 推送，后续补充

---

## 📋 本周计划 (2026-01-19 ~ 01-25)

### 周一 (01-19)

- [x] 创建任务拆分计划
- [ ] 召开项目启动会议
- [ ] 确认团队分工
- [ ] T0.1 启动: TypeScript strict 开启

### 周二 (01-20)

- [ ] T0.1 继续: 修复 types/\* 类型定义
- [ ] T0.2 启动: 创建 apiResponse.ts
- [ ] T0.3 启动: console.log 扫描
- [ ] 设计团队: 开始路线列表页设计

### 周三 (01-21)

- [ ] T0.1 继续: 修复 middleware/\*
- [ ] T0.2 继续: 改造 MessageController
- [ ] T0.3 完成: console.log 清理完成
- [ ] T0.5 启动: 创建 apiService.ts

### 周四 (01-22)

- [ ] T0.1 继续: 修复 services/\*
- [ ] T0.2 完成: 所有 controller 改造完成
- [ ] T0.4 启动: Socket.io 验证加固
- [ ] T0.5 继续: 创建 useApiRequest hook

### 周五 (01-23)

- [ ] T0.1 完成: TypeScript 编译零错误
- [ ] T0.4 完成: Socket.io 安全加固
- [ ] T0.5 继续: 改造 message.ts
- [ ] 周总结与下周规划

### 周末 (01-24 ~ 01-25)

- [ ] T0.5 完成: API 数据层重构完成
- [ ] 代码优化验收
- [ ] Sprint 1 准备工作检查

---

## 📈 关键指标跟踪

### 代码质量指标

| 指标                     | 当前值 | 目标值 | 状态 |
| ------------------------ | ------ | ------ | ---- |
| TypeScript strict 覆盖率 | 0%     | 100%   | 🔴   |
| 单元测试覆盖率           | ~60%   | 80%    | 🟡   |
| ESLint 错误数            | 未统计 | 0      | ⚪   |
| console.log 数量         | 28+    | 0      | 🔴   |
| API 响应格式统一率       | 50%    | 100%   | 🟡   |

### 性能基准

| 指标             | 当前值 | 目标值  | 状态 |
| ---------------- | ------ | ------- | ---- |
| API P99 响应时间 | 未测试 | < 500ms | ⚪   |
| 首屏加载时间     | 未测试 | < 3s    | ⚪   |
| Socket.io 延迟   | 未测试 | < 500ms | ⚪   |

---

## 🎯 下周计划 (2026-01-26 ~ 02-01)

### Sprint 1 启动准备

#### 周一 (01-26)

- [ ] Sprint 1 启动会议
- [ ] T1.1 启动: 数据库设计 (routes, waypoints)
- [ ] 设计评审会议

#### 周二 (01-27)

- [ ] T1.1 继续: 创建迁移脚本
- [ ] T1.1 继续: 插入种子数据
- [ ] 高德地图 API Key 集成测试

#### 周三 (01-28)

- [ ] T1.1 完成: 数据库建表完成
- [ ] T1.2 启动: 路线 CRUD API 开发
- [ ] T1.5 启动: API 层重构

#### 周四 (01-29)

- [ ] T1.2 继续: RouteController 实现
- [ ] T1.3 启动: 关键点管理 API
- [ ] T1.6 启动: 路线列表页开发

#### 周五 (01-30)

- [ ] T1.2 继续: RouteService 业务逻辑
- [ ] T1.9 启动: 高德地图 SDK 集成
- [ ] 周总结

---

## 📞 每日站会问题

### 今天完成了什么?

-

### 今天遇到什么阻塞?

-

### 明天计划做什么?

- ***

## 🔗 相关文档

- [任务拆分计划](./vNext_TASK_BREAKDOWN.md)
- [PRD 综合分析](./vNext_PRD_ANALYSIS_COMPREHENSIVE.md)
- [实施指南](./vNext_IMPLEMENTATION_GUIDE.md)
- [决策清单](./vNext_PM_DECISION_CHECKLIST.md)
- [设计需求](./vNext_DESIGN_REQUIREMENTS.md)

---

**最后更新**: 2026-01-19
**更新人**: Project Manager
